{"ast":null,"code":"/*\n * Copyright (C) 2007-2023 Diego Perini\n * All rights reserved.\n *\n * nwsapi.js - Fast CSS Selectors API Engine\n *\n * Author: Diego Perini <diego.perini at gmail com>\n * Version: 2.2.7\n * Created: 20070722\n * Release: 20230701\n *\n * License:\n *  http://javascript.nwbox.com/nwsapi/MIT-LICENSE\n * Download:\n *  http://javascript.nwbox.com/nwsapi/nwsapi.js\n */\n\n(function Export(global, factory) {\n  'use strict';\n\n  if (typeof module == 'object' && typeof exports == 'object') {\n    module.exports = factory;\n  } else if (typeof define == 'function' && define['amd']) {\n    define(factory);\n  } else {\n    global.NW || (global.NW = {});\n    global.NW.Dom = factory(global, Export);\n  }\n})(this, function Factory(global, Export) {\n  var version = 'nwsapi-2.2.7',\n    doc = global.document,\n    root = doc.documentElement,\n    slice = Array.prototype.slice,\n    HSP = '[\\\\x20\\\\t]',\n    VSP = '[\\\\r\\\\n\\\\f]',\n    WSP = '[\\\\x20\\\\t\\\\r\\\\n\\\\f]',\n    CFG = {\n      // extensions\n      operators: '[~*^$|]=|=',\n      combinators: '[\\\\x20\\\\t>+~](?=[^>+~])'\n    },\n    NOT = {\n      // not enclosed in double/single/parens/square\n      double_enc: '(?=(?:[^\"]*[\"][^\"]*[\"])*[^\"]*$)',\n      single_enc: \"(?=(?:[^']*['][^']*['])*[^']*$)\",\n      parens_enc: '(?![^\\\\x28]*\\\\x29)',\n      square_enc: '(?![^\\\\x5b]*\\\\x5d)'\n    },\n    REX = {\n      // regular expressions\n      HasEscapes: RegExp('\\\\\\\\'),\n      HexNumbers: RegExp('^[0-9a-fA-F]'),\n      EscOrQuote: RegExp('^\\\\\\\\|[\\\\x22\\\\x27]'),\n      RegExpChar: RegExp('(?!\\\\\\\\)[\\\\\\\\^$.,*+?()[\\\\]{}|\\\\/]', 'g'),\n      TrimSpaces: RegExp('^' + WSP + '+|' + WSP + '+$|' + VSP, 'g'),\n      SplitGroup: RegExp('(\\\\([^)]*\\\\)|\\\\[[^[]*\\\\]|\\\\\\\\.|[^,])+', 'g'),\n      CommaGroup: RegExp('(\\\\s*,\\\\s*)' + NOT.square_enc + NOT.parens_enc, 'g'),\n      FixEscapes: RegExp('\\\\\\\\([0-9a-fA-F]{1,6}' + WSP + '?|.)|([\\\\x22\\\\x27])', 'g'),\n      CombineWSP: RegExp('[\\\\n\\\\r\\\\f\\\\x20]+' + NOT.single_enc + NOT.double_enc, 'g'),\n      TabCharWSP: RegExp('(\\\\x20?\\\\t+\\\\x20?)' + NOT.single_enc + NOT.double_enc, 'g'),\n      PseudosWSP: RegExp('\\\\s+([-+])\\\\s+' + NOT.square_enc, 'g')\n    },\n    STD = {\n      combinator: RegExp('\\\\s?([>+~])\\\\s?', 'g'),\n      apimethods: RegExp('^(?:[a-z]+|\\\\*)\\\\|', 'i'),\n      namespaces: RegExp('(\\\\*|[a-z]+)\\\\|[-a-z]+', 'i')\n    },\n    GROUPS = {\n      // pseudo-classes requiring parameters\n      linguistic: '(dir|lang)(?:\\\\x28\\\\s?([-\\\\w]{2,})\\\\s?\\\\x29)',\n      logicalsel: '(is|where|matches|not|has)(?:\\\\x28\\\\s?(\\\\[([^\\\\[\\\\]]*)\\\\]|[^()\\\\[\\\\]]*|.*)\\\\s?\\\\x29)',\n      treestruct: '(nth(?:-last)?(?:-child|-of-type))(?:\\\\x28\\\\s?(even|odd|(?:[-+]?\\\\d*)(?:n\\\\s?[-+]?\\\\s?\\\\d*)?)\\\\s?\\\\x29)',\n      // pseudo-classes not requiring parameters\n      locationpc: '(any-link|link|visited|target)\\\\b',\n      useraction: '(hover|active|focus-within|focus)\\\\b',\n      structural: '(root|empty|(?:(?:first|last|only)(?:-child|-of-type)))\\\\b',\n      inputstate: '(enabled|disabled|read-only|read-write|placeholder-shown|default)\\\\b',\n      inputvalue: '(checked|indeterminate|required|optional|valid|invalid|in-range|out-of-range)\\\\b',\n      // pseudo-classes for parsing only selectors\n      pseudo_nop: '(autofill|-webkit-autofill)\\\\b',\n      // pseudo-elements starting with single colon (:)\n      pseudo_sng: '(after|before|first-letter|first-line)\\\\b',\n      // pseudo-elements starting with double colon (::)\n      pseudo_dbl: ':(after|before|first-letter|first-line|selection|placeholder|-webkit-[-a-zA-Z0-9]{2,})\\\\b'\n    },\n    Patterns = {\n      // pseudo-classes\n      treestruct: RegExp('^:(?:' + GROUPS.treestruct + ')(.*)', 'i'),\n      structural: RegExp('^:(?:' + GROUPS.structural + ')(.*)', 'i'),\n      linguistic: RegExp('^:(?:' + GROUPS.linguistic + ')(.*)', 'i'),\n      useraction: RegExp('^:(?:' + GROUPS.useraction + ')(.*)', 'i'),\n      inputstate: RegExp('^:(?:' + GROUPS.inputstate + ')(.*)', 'i'),\n      inputvalue: RegExp('^:(?:' + GROUPS.inputvalue + ')(.*)', 'i'),\n      locationpc: RegExp('^:(?:' + GROUPS.locationpc + ')(.*)', 'i'),\n      logicalsel: RegExp('^:(?:' + GROUPS.logicalsel + ')(.*)', 'i'),\n      pseudo_nop: RegExp('^:(?:' + GROUPS.pseudo_nop + ')(.*)', 'i'),\n      pseudo_sng: RegExp('^:(?:' + GROUPS.pseudo_sng + ')(.*)', 'i'),\n      pseudo_dbl: RegExp('^:(?:' + GROUPS.pseudo_dbl + ')(.*)', 'i'),\n      // combinator symbols\n      children: RegExp('^' + WSP + '?\\\\>' + WSP + '?(.*)'),\n      adjacent: RegExp('^' + WSP + '?\\\\+' + WSP + '?(.*)'),\n      relative: RegExp('^' + WSP + '?\\\\~' + WSP + '?(.*)'),\n      ancestor: RegExp('^' + WSP + '+(.*)'),\n      // universal & namespace\n      universal: RegExp('^\\\\*(.*)'),\n      namespace: RegExp('^(\\\\w+|\\\\*)?\\\\|(.*)')\n    },\n    // regexp to aproximate detection of RTL languages (Arabic)\n    RTL = RegExp('^[\\\\u0591-\\\\u08ff\\\\ufb1d-\\\\ufdfd\\\\ufe70-\\\\ufefc ]+$'),\n    // emulate firefox error strings\n    qsNotArgs = 'Not enough arguments',\n    qsInvalid = ' is not a valid selector',\n    // detect structural pseudo-classes in selectors\n    reNthElem = RegExp('(:nth(?:-last)?-child)', 'i'),\n    reNthType = RegExp('(:nth(?:-last)?-of-type)', 'i'),\n    // placeholder for global regexp\n    reOptimizer,\n    reValidator,\n    // special handling configuration flags\n    Config = {\n      IDS_DUPES: true,\n      NONDIGITS: true,\n      LOGERRORS: true,\n      VERBOSITY: true\n    },\n    NAMESPACE,\n    QUIRKS_MODE,\n    HTML_DOCUMENT,\n    ATTR_STD_OPS = {\n      '=': 1,\n      '^=': 1,\n      '$=': 1,\n      '|=': 1,\n      '*=': 1,\n      '~=': 1\n    },\n    HTML_TABLE = {\n      'accept': 1,\n      'accept-charset': 1,\n      'align': 1,\n      'alink': 1,\n      'axis': 1,\n      'bgcolor': 1,\n      'charset': 1,\n      'checked': 1,\n      'clear': 1,\n      'codetype': 1,\n      'color': 1,\n      'compact': 1,\n      'declare': 1,\n      'defer': 1,\n      'dir': 1,\n      'direction': 1,\n      'disabled': 1,\n      'enctype': 1,\n      'face': 1,\n      'frame': 1,\n      'hreflang': 1,\n      'http-equiv': 1,\n      'lang': 1,\n      'language': 1,\n      'link': 1,\n      'media': 1,\n      'method': 1,\n      'multiple': 1,\n      'nohref': 1,\n      'noresize': 1,\n      'noshade': 1,\n      'nowrap': 1,\n      'readonly': 1,\n      'rel': 1,\n      'rev': 1,\n      'rules': 1,\n      'scope': 1,\n      'scrolling': 1,\n      'selected': 1,\n      'shape': 1,\n      'target': 1,\n      'text': 1,\n      'type': 1,\n      'valign': 1,\n      'valuetype': 1,\n      'vlink': 1\n    },\n    Combinators = {},\n    Selectors = {},\n    Operators = {\n      '=': {\n        p1: '^',\n        p2: '$',\n        p3: 'true'\n      },\n      '^=': {\n        p1: '^',\n        p2: '',\n        p3: 'true'\n      },\n      '$=': {\n        p1: '',\n        p2: '$',\n        p3: 'true'\n      },\n      '*=': {\n        p1: '',\n        p2: '',\n        p3: 'true'\n      },\n      '|=': {\n        p1: '^',\n        p2: '(-|$)',\n        p3: 'true'\n      },\n      '~=': {\n        p1: '(^|\\\\s)',\n        p2: '(\\\\s|$)',\n        p3: 'true'\n      }\n    },\n    concatCall = function (nodes, callback) {\n      var i = 0,\n        l = nodes.length,\n        list = Array(l);\n      while (l > i) {\n        if (false === callback(list[i] = nodes[i])) break;\n        ++i;\n      }\n      return list;\n    },\n    concatList = function (list, nodes) {\n      var i = -1,\n        l = nodes.length;\n      while (l--) {\n        list[list.length] = nodes[++i];\n      }\n      return list;\n    },\n    documentOrder = function (a, b) {\n      if (!hasDupes && a === b) {\n        hasDupes = true;\n        return 0;\n      }\n      return a.compareDocumentPosition(b) & 4 ? -1 : 1;\n    },\n    hasDupes = false,\n    unique = function (nodes) {\n      var i = 0,\n        j = -1,\n        l = nodes.length + 1,\n        list = [];\n      while (--l) {\n        if (nodes[i++] === nodes[i]) continue;\n        list[++j] = nodes[i - 1];\n      }\n      hasDupes = false;\n      return list;\n    },\n    switchContext = function (context, force) {\n      var oldDoc = doc;\n      doc = context.ownerDocument || context;\n      if (force || oldDoc !== doc) {\n        // force a new check for each document change\n        // performed before the next select operation\n        root = doc.documentElement;\n        HTML_DOCUMENT = isHTML(doc);\n        QUIRKS_MODE = HTML_DOCUMENT && doc.compatMode.indexOf('CSS') < 0;\n        NAMESPACE = root && root.namespaceURI;\n        Snapshot.doc = doc;\n        Snapshot.root = root;\n      }\n      return Snapshot.from = context;\n    },\n    // convert single codepoint to UTF-16 encoding\n    codePointToUTF16 = function (codePoint) {\n      // out of range, use replacement character\n      if (codePoint < 1 || codePoint > 0x10ffff || codePoint > 0xd7ff && codePoint < 0xe000) {\n        return '\\\\ufffd';\n      }\n      // javascript strings are UTF-16 encoded\n      if (codePoint < 0x10000) {\n        var lowHex = '000' + codePoint.toString(16);\n        return '\\\\u' + lowHex.substr(lowHex.length - 4);\n      }\n      // supplementary high + low surrogates\n      return '\\\\u' + ((codePoint - 0x10000 >> 0x0a) + 0xd800).toString(16) + '\\\\u' + ((codePoint - 0x10000) % 0x400 + 0xdc00).toString(16);\n    },\n    // convert single codepoint to string\n    stringFromCodePoint = function (codePoint) {\n      // out of range, use replacement character\n      if (codePoint < 1 || codePoint > 0x10ffff || codePoint > 0xd7ff && codePoint < 0xe000) {\n        return '\\ufffd';\n      }\n      if (codePoint < 0x10000) {\n        return String.fromCharCode(codePoint);\n      }\n      return String.fromCodePoint ? String.fromCodePoint(codePoint) : String.fromCharCode((codePoint - 0x10000 >> 0x0a) + 0xd800, (codePoint - 0x10000) % 0x400 + 0xdc00);\n    },\n    // convert escape sequence in a CSS string or identifier\n    // to javascript string with javascript escape sequences\n    convertEscapes = function (str) {\n      return REX.HasEscapes.test(str) ? str.replace(REX.FixEscapes, function (substring, p1, p2) {\n        // unescaped \" or '\n        return p2 ? '\\\\' + p2 :\n        // javascript strings are UTF-16 encoded\n        REX.HexNumbers.test(p1) ? codePointToUTF16(parseInt(p1, 16)) :\n        // \\' \\\"\n        REX.EscOrQuote.test(p1) ? substring :\n        // \\g \\h \\. \\# etc\n        p1;\n      }) : str;\n    },\n    // convert escape sequence in a CSS string or identifier\n    // to javascript string with characters representations\n    unescapeIdentifier = function (str) {\n      return REX.HasEscapes.test(str) ? str.replace(REX.FixEscapes, function (substring, p1, p2) {\n        // unescaped \" or '\n        return p2 ? p2 :\n        // javascript strings are UTF-16 encoded\n        REX.HexNumbers.test(p1) ? stringFromCodePoint(parseInt(p1, 16)) :\n        // \\' \\\"\n        REX.EscOrQuote.test(p1) ? substring :\n        // \\g \\h \\. \\# etc\n        p1;\n      }) : str;\n    },\n    method = {\n      '#': 'getElementById',\n      '*': 'getElementsByTagName',\n      '|': 'getElementsByTagNameNS',\n      '.': 'getElementsByClassName'\n    },\n    compat = {\n      '#': function (c, n) {\n        REX.HasEscapes.test(n) && (n = unescapeIdentifier(n));\n        return function (e, f) {\n          return byId(n, c);\n        };\n      },\n      '*': function (c, n) {\n        REX.HasEscapes.test(n) && (n = unescapeIdentifier(n));\n        return function (e, f) {\n          return byTag(n, c);\n        };\n      },\n      '|': function (c, n) {\n        REX.HasEscapes.test(n) && (n = unescapeIdentifier(n));\n        return function (e, f) {\n          return byTag(n, c);\n        };\n      },\n      '.': function (c, n) {\n        REX.HasEscapes.test(n) && (n = unescapeIdentifier(n));\n        return function (e, f) {\n          return byClass(n, c);\n        };\n      }\n    },\n    // find duplicate ids using iterative walk\n    byIdRaw = function (id, context) {\n      var node = context,\n        nodes = [],\n        next = node.firstElementChild;\n      while (node = next) {\n        node.id == id && (nodes[nodes.length] = node);\n        if (next = node.firstElementChild || node.nextElementSibling) continue;\n        while (!next && (node = node.parentElement) && node !== context) {\n          next = node.nextElementSibling;\n        }\n      }\n      return nodes;\n    },\n    // context agnostic getElementById\n    byId = function (id, context) {\n      var e,\n        i,\n        l,\n        nodes,\n        api = method['#'];\n\n      // duplicates id allowed\n      if (Config.IDS_DUPES === false) {\n        if (api in context) {\n          return (e = context[api](id)) ? [e] : none;\n        }\n      } else {\n        if ('all' in context) {\n          if (e = context.all[id]) {\n            if (e.nodeType == 1) return e.getAttribute('id') != id ? [] : [e];else if (id == 'length') return (e = context[api](id)) ? [e] : none;\n            for (i = 0, l = e.length, nodes = []; l > i; ++i) {\n              if (e[i].id == id) nodes[nodes.length] = e[i];\n            }\n            return nodes && nodes.length ? nodes : [nodes];\n          } else return none;\n        }\n      }\n      return byIdRaw(id, context);\n    },\n    // context agnostic getElementsByTagName\n    byTag = function (tag, context) {\n      var e,\n        nodes,\n        api = method['*'];\n      // DOCUMENT_NODE (9) & ELEMENT_NODE (1)\n      if (api in context) {\n        return slice.call(context[api](tag));\n      } else {\n        tag = tag.toLowerCase();\n        // DOCUMENT_FRAGMENT_NODE (11)\n        if (e = context.firstElementChild) {\n          if (!(e.nextElementSibling || tag == '*' || e.localName == tag)) {\n            return slice.call(e[api](tag));\n          } else {\n            nodes = [];\n            do {\n              if (tag == '*' || e.localName == tag) nodes[nodes.length] = e;\n              concatList(nodes, e[api](tag));\n            } while (e = e.nextElementSibling);\n          }\n        } else nodes = none;\n      }\n      return nodes;\n    },\n    // context agnostic getElementsByClassName\n    byClass = function (cls, context) {\n      var e,\n        nodes,\n        api = method['.'],\n        reCls;\n      // DOCUMENT_NODE (9) & ELEMENT_NODE (1)\n      if (api in context) {\n        return slice.call(context[api](cls));\n      } else {\n        // DOCUMENT_FRAGMENT_NODE (11)\n        if (e = context.firstElementChild) {\n          reCls = RegExp('(^|\\\\s)' + cls + '(\\\\s|$)', QUIRKS_MODE ? 'i' : '');\n          if (!(e.nextElementSibling || reCls.test(e.className))) {\n            return slice.call(e[api](cls));\n          } else {\n            nodes = [];\n            do {\n              if (reCls.test(e.className)) nodes[nodes.length] = e;\n              concatList(nodes, e[api](cls));\n            } while (e = e.nextElementSibling);\n          }\n        } else nodes = none;\n      }\n      return nodes;\n    },\n    // namespace aware hasAttribute\n    // helper for XML/XHTML documents\n    hasAttributeNS = function (e, name) {\n      var i,\n        l,\n        attr = e.getAttributeNames();\n      name = RegExp(':?' + name + '$', HTML_DOCUMENT ? 'i' : '');\n      for (i = 0, l = attr.length; l > i; ++i) {\n        if (name.test(attr[i])) return true;\n      }\n      return false;\n    },\n    // fast resolver for the :nth-child() and :nth-last-child() pseudo-classes\n    nthElement = function () {\n      var idx = 0,\n        len = 0,\n        set = 0,\n        parent = undefined,\n        parents = Array(),\n        nodes = Array();\n      return function (element, dir) {\n        // ensure caches are emptied after each run, invoking with dir = 2\n        if (dir == 2) {\n          idx = 0;\n          len = 0;\n          set = 0;\n          nodes.length = 0;\n          parents.length = 0;\n          parent = undefined;\n          return -1;\n        }\n        var e, i, j, k, l;\n        if (parent === element.parentElement) {\n          i = set;\n          j = idx;\n          l = len;\n        } else {\n          l = parents.length;\n          parent = element.parentElement;\n          for (i = -1, j = 0, k = l - 1; l > j; ++j, --k) {\n            if (parents[j] === parent) {\n              i = j;\n              break;\n            }\n            if (parents[k] === parent) {\n              i = k;\n              break;\n            }\n          }\n          if (i < 0) {\n            parents[i = l] = parent;\n            l = 0;\n            nodes[i] = Array();\n            e = parent && parent.firstElementChild || element;\n            while (e) {\n              nodes[i][l] = e;\n              if (e === element) j = l;\n              e = e.nextElementSibling;\n              ++l;\n            }\n            set = i;\n            idx = 0;\n            len = l;\n            if (l < 2) return l;\n          } else {\n            l = nodes[i].length;\n            set = i;\n          }\n        }\n        if (element !== nodes[i][j] && element !== nodes[i][j = 0]) {\n          for (j = 0, e = nodes[i], k = l - 1; l > j; ++j, --k) {\n            if (e[j] === element) {\n              break;\n            }\n            if (e[k] === element) {\n              j = k;\n              break;\n            }\n          }\n        }\n        idx = j + 1;\n        len = l;\n        return dir ? l - j : idx;\n      };\n    }(),\n    // fast resolver for the :nth-of-type() and :nth-last-of-type() pseudo-classes\n    nthOfType = function () {\n      var idx = 0,\n        len = 0,\n        set = 0,\n        parent = undefined,\n        parents = Array(),\n        nodes = Array();\n      return function (element, dir) {\n        // ensure caches are emptied after each run, invoking with dir = 2\n        if (dir == 2) {\n          idx = 0;\n          len = 0;\n          set = 0;\n          nodes.length = 0;\n          parents.length = 0;\n          parent = undefined;\n          return -1;\n        }\n        var e,\n          i,\n          j,\n          k,\n          l,\n          name = element.localName;\n        if (nodes[set] && nodes[set][name] && parent === element.parentElement) {\n          i = set;\n          j = idx;\n          l = len;\n        } else {\n          l = parents.length;\n          parent = element.parentElement;\n          for (i = -1, j = 0, k = l - 1; l > j; ++j, --k) {\n            if (parents[j] === parent) {\n              i = j;\n              break;\n            }\n            if (parents[k] === parent) {\n              i = k;\n              break;\n            }\n          }\n          if (i < 0 || !nodes[i][name]) {\n            parents[i = l] = parent;\n            nodes[i] || (nodes[i] = Object());\n            l = 0;\n            nodes[i][name] = Array();\n            e = parent && parent.firstElementChild || element;\n            while (e) {\n              if (e === element) j = l;\n              if (e.localName == name) {\n                nodes[i][name][l] = e;\n                ++l;\n              }\n              e = e.nextElementSibling;\n            }\n            set = i;\n            idx = j;\n            len = l;\n            if (l < 2) return l;\n          } else {\n            l = nodes[i][name].length;\n            set = i;\n          }\n        }\n        if (element !== nodes[i][name][j] && element !== nodes[i][name][j = 0]) {\n          for (j = 0, e = nodes[i][name], k = l - 1; l > j; ++j, --k) {\n            if (e[j] === element) {\n              break;\n            }\n            if (e[k] === element) {\n              j = k;\n              break;\n            }\n          }\n        }\n        idx = j + 1;\n        len = l;\n        return dir ? l - j : idx;\n      };\n    }(),\n    // check if the document type is HTML\n    isHTML = function (node) {\n      var doc = node.ownerDocument || node;\n      return doc.nodeType == 9 &&\n      // contentType not in IE <= 11\n      'contentType' in doc ? doc.contentType.indexOf('/html') > 0 : doc.createElement('DiV').localName == 'div';\n    },\n    // configure the engine to use special handling\n    configure = function (option, clear) {\n      if (typeof option == 'string') {\n        return !!Config[option];\n      }\n      if (typeof option != 'object') {\n        return Config;\n      }\n      for (var i in option) {\n        Config[i] = !!option[i];\n      }\n      // clear lambda cache\n      if (clear) {\n        matchResolvers = {};\n        selectResolvers = {};\n      }\n      setIdentifierSyntax();\n      return true;\n    },\n    // centralized error and exceptions handling\n    emit = function (message, proto) {\n      var err;\n      if (Config.VERBOSITY) {\n        if (proto) {\n          err = new proto(message);\n        } else {\n          err = new global.DOMException(message, 'SyntaxError');\n        }\n        throw err;\n      }\n      if (Config.LOGERRORS && console && console.log) {\n        console.log(message);\n      }\n    },\n    // execute the engine initialization code\n    initialize = function (doc) {\n      setIdentifierSyntax();\n      lastContext = switchContext(doc, true);\n    },\n    // build validation regexps used by the engine\n    setIdentifierSyntax = function () {\n      //\n      // NOTE: SPECIAL CASES IN CSS SYNTAX PARSING RULES\n      //\n      // The <EOF-token> https://drafts.csswg.org/css-syntax/#typedef-eof-token\n      // allow mangled|unclosed selector syntax at the end of selectors strings\n      //\n      // Literal equivalent hex representations of the characters: \" ' ` ] )\n      //\n      //     \\\\x22 = \" - double quotes    \\\\x5b = [ - open square bracket\n      //     \\\\x27 = ' - single quote     \\\\x5d = ] - closed square bracket\n      //     \\\\x60 = ` - back tick        \\\\x28 = ( - open round parens\n      //     \\\\x5c = \\ - back slash       \\\\x29 = ) - closed round parens\n      //\n      // using hex format prevents false matches of opened/closed instances\n      // pairs, coloring breakage and other editors highlightning problems.\n      //\n\n      var identifier =\n        // doesn't start with a digit\n        (Config.NONDIGITS ? '(?=[^0-9])' : '') +\n        // can start with double dash\n        '(?:-{2}' +\n        // may include ascii chars\n        '|[a-zA-Z0-9-_]' +\n        // non-ascii chars\n        '|[^\\\\x00-\\\\x9f]' +\n        // escaped chars\n        '|\\\\\\\\[^\\\\r\\\\n\\\\f0-9a-fA-F]' +\n        // unicode chars\n        '|\\\\\\\\[0-9a-fA-F]{1,6}(?:\\\\r\\\\n|\\\\s)?' +\n        // any escaped chars\n        '|\\\\\\\\.' + ')+',\n        pseudonames = '[-\\\\w]+',\n        pseudoparms = '(?:[-+]?\\\\d*)(?:n\\\\s?[-+]?\\\\s?\\\\d*)',\n        doublequote = '\"[^\"\\\\\\\\]*(?:\\\\\\\\.[^\"\\\\\\\\]*)*(?:\"|$)',\n        singlequote = \"'[^'\\\\\\\\]*(?:\\\\\\\\.[^'\\\\\\\\]*)*(?:'|$)\",\n        attrparser = identifier + '|' + doublequote + '|' + singlequote,\n        attrvalues = '([\\\\x22\\\\x27]?)((?!\\\\3)*|(?:\\\\\\\\?.)*?)(?:\\\\3|$)',\n        attributes = '\\\\[' +\n        // attribute presence\n        '(?:\\\\*\\\\|)?' + WSP + '?' + '(' + identifier + '(?::' + identifier + ')?)' + WSP + '?' + '(?:' + '(' + CFG.operators + ')' + WSP + '?' + '(?:' + attrparser + ')' + ')?' +\n        // attribute case sensitivity\n        '(?:' + WSP + '?\\\\b(i))?' + WSP + '?' + '(?:\\\\]|$)',\n        attrmatcher = attributes.replace(attrparser, attrvalues),\n        pseudoclass = '(?:\\\\x28' + WSP + '*' + '(?:' + pseudoparms + '?)?|' +\n        // universal * &\n        // namespace *|*\n        '(?:\\\\*|\\\\|)|' + '(?:' + '(?::' + pseudonames + '(?:\\\\x28' + pseudoparms + '?(?:\\\\x29|$))?|' + ')|' + '(?:[.#]?' + identifier + ')|' + '(?:' + attributes + ')' + ')+|' + '(?:' + WSP + '?,' + WSP + '?)|' + '(?:' + WSP + '?)|' + '(?:\\\\x29|$))*',\n        standardValidator = '(?=' + WSP + '?[^>+~(){}<>])' + '(?:' +\n        // universal * &\n        // namespace *|*\n        '(?:\\\\*|\\\\|)|' + '(?:[.#]?' + identifier + ')+|' + '(?:' + attributes + ')+|' + '(?:::?' + pseudonames + pseudoclass + ')|' + '(?:' + WSP + '?' + CFG.combinators + WSP + '?)|' + '(?:' + WSP + '?,' + WSP + '?)|' + '(?:' + WSP + '?)' + ')+';\n\n      // the following global RE is used to return the\n      // deepest localName in selector strings and then\n      // use it to retrieve all possible matching nodes\n      // that will be filtered by compiled resolvers\n      reOptimizer = RegExp('(?:([.:#*]?)' + '(' + identifier + ')' + '(?:' + ':[-\\\\w]+|' + '\\\\[[^\\\\]]+(?:\\\\]|$)|' + '\\\\x28[^\\\\x29]+(?:\\\\x29|$)' + ')*)$');\n\n      // global\n      reValidator = RegExp(standardValidator, 'g');\n      Patterns.id = RegExp('^#(' + identifier + ')(.*)');\n      Patterns.tagName = RegExp('^(' + identifier + ')(.*)');\n      Patterns.className = RegExp('^\\\\.(' + identifier + ')(.*)');\n      Patterns.attribute = RegExp('^(?:' + attrmatcher + ')(.*)');\n    },\n    F_INIT = '\"use strict\";return function Resolver(c,f,x,r)',\n    S_HEAD = 'var e,n,o,j=r.length-1,k=-1',\n    M_HEAD = 'var e,n,o',\n    S_LOOP = 'main:while((e=c[++k]))',\n    N_LOOP = 'main:while((e=c.item(++k)))',\n    M_LOOP = 'e=c;',\n    S_BODY = 'r[++j]=c[k];',\n    N_BODY = 'r[++j]=c.item(k);',\n    M_BODY = '',\n    S_TAIL = 'continue main;',\n    M_TAIL = 'r=true;',\n    S_TEST = 'if(f(c[k])){break main;}',\n    N_TEST = 'if(f(c.item(k))){break main;}',\n    M_TEST = 'f(c);',\n    S_VARS = [],\n    M_VARS = [],\n    // compile groups or single selector strings into\n    // executable functions for matching or selecting\n    compile = function (selector, mode, callback) {\n      var factory,\n        token,\n        head = '',\n        loop = '',\n        macro = '',\n        source = '',\n        vars = '';\n\n      // 'mode' can be boolean or null\n      // true = select / false = match\n      // null to use collection.item()\n      switch (mode) {\n        case true:\n          if (selectLambdas[selector]) {\n            return selectLambdas[selector];\n          }\n          macro = S_BODY + (callback ? S_TEST : '') + S_TAIL;\n          head = S_HEAD;\n          loop = S_LOOP;\n          break;\n        case false:\n          if (matchLambdas[selector]) {\n            return matchLambdas[selector];\n          }\n          macro = M_BODY + (callback ? M_TEST : '') + M_TAIL;\n          head = M_HEAD;\n          loop = M_LOOP;\n          break;\n        case null:\n          if (selectLambdas[selector]) {\n            return selectLambdas[selector];\n          }\n          macro = N_BODY + (callback ? N_TEST : '') + S_TAIL;\n          head = S_HEAD;\n          loop = N_LOOP;\n          break;\n        default:\n          break;\n      }\n      source = compileSelector(selector, macro, mode, callback);\n      loop += mode || mode === null ? '{' + source + '}' : source;\n      if (mode || mode === null && selector.includes(':nth')) {\n        loop += reNthElem.test(selector) ? 's.nthElement(null, 2);' : '';\n        loop += reNthType.test(selector) ? 's.nthOfType(null, 2);' : '';\n      }\n      if (S_VARS[0] || M_VARS[0]) {\n        vars = ',' + (S_VARS.join(',') || M_VARS.join(','));\n        S_VARS.length = 0;\n        M_VARS.length = 0;\n      }\n      factory = Function('s', F_INIT + '{' + head + vars + ';' + loop + 'return r;}')(Snapshot);\n      return mode || mode === null ? selectLambdas[selector] = factory : matchLambdas[selector] = factory;\n    },\n    // build conditional code to check components of selector strings\n    compileSelector = function (expression, source, mode, callback) {\n      var a,\n        b,\n        n,\n        f,\n        k = 0,\n        name,\n        NS,\n        referenceElement,\n        compat,\n        expr,\n        match,\n        result,\n        status,\n        symbol,\n        test,\n        type,\n        selector = expression,\n        selector_string,\n        vars;\n\n      // original 'select' or 'match' selector string before normalization\n      selector_string = mode ? lastSelected : lastMatched;\n\n      // isolate selector combinators/components and normalize whitespace\n      selector = selector.replace(STD.combinator, '$1'); //.replace(STD.whitespace, ' ');\n\n      // javascript needs a label to break\n      // out of the while loops processing\n      selector_recursion_label: while (selector) {\n        ++k;\n\n        // get namespace prefix if present or get first char of selector\n        symbol = STD.apimethods.test(selector) ? '|' : selector[0];\n        switch (symbol) {\n          // universal resolver\n          case '*':\n            match = selector.match(Patterns.universal);\n            break;\n\n          // id resolver\n          case '#':\n            match = selector.match(Patterns.id);\n            source = 'if((/^' + match[1] + '$/.test(e.getAttribute(\"id\")))){' + source + '}';\n            break;\n\n          // class name resolver\n          case '.':\n            match = selector.match(Patterns.className);\n            compat = (QUIRKS_MODE ? 'i' : '') + '.test(e.getAttribute(\"class\"))';\n            source = 'if((/(^|\\\\s)' + match[1] + '(\\\\s|$)/' + compat + ')){' + source + '}';\n            break;\n\n          // tag name resolver\n          case /[_a-z]/i.test(symbol) ? symbol : undefined:\n            match = selector.match(Patterns.tagName);\n            source = 'if((e.localName==\"' + match[1] + '\")){' + source + '}';\n            break;\n\n          // namespace resolver\n          case '|':\n            match = selector.match(Patterns.namespace);\n            if (match[1] == '*') {\n              source = 'if(true){' + source + '}';\n            } else if (!match[1]) {\n              source = 'if((!e.namespaceURI)){' + source + '}';\n            } else if (typeof match[1] == 'string' && root.prefix == match[1]) {\n              source = 'if((e.namespaceURI==\"' + NAMESPACE + '\")){' + source + '}';\n            } else {\n              emit('\\'' + selector_string + '\\'' + qsInvalid);\n            }\n            break;\n\n          // attributes resolver\n          case '[':\n            match = selector.match(Patterns.attribute);\n            NS = match[0].match(STD.namespaces);\n            name = match[1];\n            expr = name.split(':');\n            expr = expr.length == 2 ? expr[1] : expr[0];\n            if (match[2] && !(test = Operators[match[2]])) {\n              emit('\\'' + selector_string + '\\'' + qsInvalid);\n              return '';\n            }\n            if (match[4] === '') {\n              test = match[2] == '~=' ? {\n                p1: '^\\\\s',\n                p2: '+$',\n                p3: 'true'\n              } : match[2] in ATTR_STD_OPS && match[2] != '~=' ? {\n                p1: '^',\n                p2: '$',\n                p3: 'true'\n              } : test;\n            } else if (match[2] == '~=' && match[4].includes(' ')) {\n              // whitespace separated list but value contains space\n              source = 'if(false){' + source + '}';\n              break;\n            } else if (match[4]) {\n              match[4] = convertEscapes(match[4]).replace(REX.RegExpChar, '\\\\$&');\n            }\n            type = match[5] == 'i' || HTML_DOCUMENT && HTML_TABLE[expr.toLowerCase()] ? 'i' : '';\n            source = 'if((' + (!match[2] ? NS ? 's.hasAttributeNS(e,\"' + name + '\")' : 'e.hasAttribute&&e.hasAttribute(\"' + name + '\")' : !match[4] && ATTR_STD_OPS[match[2]] && match[2] != '~=' ? 'e.getAttribute&&e.getAttribute(\"' + name + '\")==\"\"' : '(/' + test.p1 + match[4] + test.p2 + '/' + type + ').test(e.getAttribute&&e.getAttribute(\"' + name + '\"))==' + test.p3) + ')){' + source + '}';\n            break;\n\n          // *** General sibling combinator\n          // E ~ F (F relative sibling of E)\n          case '~':\n            match = selector.match(Patterns.relative);\n            source = 'var N' + k + '=e;while(e&&(e=e.previousElementSibling)){' + source + '}e=N' + k + ';';\n            break;\n          // *** Adjacent sibling combinator\n          // E + F (F adiacent sibling of E)\n          case '+':\n            match = selector.match(Patterns.adjacent);\n            source = 'var N' + k + '=e;if(e&&(e=e.previousElementSibling)){' + source + '}e=N' + k + ';';\n            break;\n          // *** Descendant combinator\n          // E F (E ancestor of F)\n          case '\\x09':\n          case '\\x20':\n            match = selector.match(Patterns.ancestor);\n            source = 'var N' + k + '=e;while(e&&(e=e.parentElement)){' + source + '}e=N' + k + ';';\n            break;\n          // *** Child combinator\n          // E > F (F children of E)\n          case '>':\n            match = selector.match(Patterns.children);\n            source = 'var N' + k + '=e;if(e&&(e=e.parentElement)){' + source + '}e=N' + k + ';';\n            break;\n\n          // *** user supplied combinators extensions\n          case symbol in Combinators ? symbol : undefined:\n            // for other registered combinators extensions\n            match[match.length - 1] = '*';\n            source = Combinators[symbol](match) + source;\n            break;\n\n          // *** tree-structural pseudo-classes\n          // :root, :empty, :first-child, :last-child, :only-child, :first-of-type, :last-of-type, :only-of-type\n          case ':':\n            if (match = selector.match(Patterns.structural)) {\n              match[1] = match[1].toLowerCase();\n              switch (match[1]) {\n                case 'root':\n                  // there can only be one :root element, so exit the loop once found\n                  source = 'if((e===s.root)){' + source + (mode ? 'break main;' : '') + '}';\n                  break;\n                case 'empty':\n                  // matches elements that don't contain elements or text nodes\n                  source = 'n=e.firstChild;while(n&&!(/1|3/).test(n.nodeType)){n=n.nextSibling}if(!n){' + source + '}';\n                  break;\n\n                // *** child-indexed pseudo-classes\n                // :first-child, :last-child, :only-child\n                case 'only-child':\n                  source = 'if((!e.nextElementSibling&&!e.previousElementSibling)){' + source + '}';\n                  break;\n                case 'last-child':\n                  source = 'if((!e.nextElementSibling)){' + source + '}';\n                  break;\n                case 'first-child':\n                  source = 'if((!e.previousElementSibling)){' + source + '}';\n                  break;\n\n                // *** typed child-indexed pseudo-classes\n                // :only-of-type, :last-of-type, :first-of-type\n                case 'only-of-type':\n                  source = 'o=e.localName;' + 'n=e;while((n=n.nextElementSibling)&&n.localName!=o);if(!n){' + 'n=e;while((n=n.previousElementSibling)&&n.localName!=o);}if(!n){' + source + '}';\n                  break;\n                case 'last-of-type':\n                  source = 'n=e;o=e.localName;while((n=n.nextElementSibling)&&n.localName!=o);if(!n){' + source + '}';\n                  break;\n                case 'first-of-type':\n                  source = 'n=e;o=e.localName;while((n=n.previousElementSibling)&&n.localName!=o);if(!n){' + source + '}';\n                  break;\n                default:\n                  emit('\\'' + selector_string + '\\'' + qsInvalid);\n                  break;\n              }\n            }\n\n            // *** child-indexed & typed child-indexed pseudo-classes\n            // :nth-child, :nth-of-type, :nth-last-child, :nth-last-of-type\n            else if (match = selector.match(Patterns.treestruct)) {\n              match[1] = match[1].toLowerCase();\n              switch (match[1]) {\n                case 'nth-child':\n                case 'nth-of-type':\n                case 'nth-last-child':\n                case 'nth-last-of-type':\n                  expr = /-of-type/i.test(match[1]);\n                  if (match[1] && match[2]) {\n                    type = /last/i.test(match[1]);\n                    if (match[2] == 'n') {\n                      source = 'if(true){' + source + '}';\n                      break;\n                    } else if (match[2] == '1') {\n                      test = type ? 'next' : 'previous';\n                      source = expr ? 'n=e;o=e.localName;' + 'while((n=n.' + test + 'ElementSibling)&&n.localName!=o);if(!n){' + source + '}' : 'if(!e.' + test + 'ElementSibling){' + source + '}';\n                      break;\n                    } else if (match[2] == 'even' || match[2] == '2n0' || match[2] == '2n+0' || match[2] == '2n') {\n                      test = 'n%2==0';\n                    } else if (match[2] == 'odd' || match[2] == '2n1' || match[2] == '2n+1') {\n                      test = 'n%2==1';\n                    } else {\n                      f = /n/i.test(match[2]);\n                      n = match[2].split('n');\n                      a = parseInt(n[0], 10) || 0;\n                      b = parseInt(n[1], 10) || 0;\n                      if (n[0] == '-') {\n                        a = -1;\n                      }\n                      if (n[0] == '+') {\n                        a = +1;\n                      }\n                      test = (b ? '(n' + (b > 0 ? '-' : '+') + Math.abs(b) + ')' : 'n') + '%' + a + '==0';\n                      test = a >= +1 ? f ? 'n>' + (b - 1) + (Math.abs(a) != 1 ? '&&' + test : '') : 'n==' + a : a <= -1 ? f ? 'n<' + (b + 1) + (Math.abs(a) != 1 ? '&&' + test : '') : 'n==' + a : a === 0 ? n[0] ? 'n==' + b : 'n>' + (b - 1) : 'false';\n                    }\n                    expr = expr ? 'OfType' : 'Element';\n                    type = type ? 'true' : 'false';\n                    source = 'n=s.nth' + expr + '(e,' + type + ');if((' + test + ')){' + source + '}';\n                  } else {\n                    emit('\\'' + selector_string + '\\'' + qsInvalid);\n                  }\n                  break;\n                default:\n                  emit('\\'' + selector_string + '\\'' + qsInvalid);\n                  break;\n              }\n            }\n\n            // *** logical combination pseudo-classes\n            // :is( s1, [ s2, ... ]), :not( s1, [ s2, ... ])\n            else if (match = selector.match(Patterns.logicalsel)) {\n              match[1] = match[1].toLowerCase();\n              switch (match[1]) {\n                case 'is':\n                case 'where':\n                case 'matches':\n                  expr = match[2].replace(REX.CommaGroup, ',').replace(REX.TrimSpaces, '');\n                  source = 'if(s.match(\"' + expr.replace(/\\x22/g, '\\\\\"') + '\",e)){' + source + '}';\n                  break;\n                case 'not':\n                  expr = match[2].replace(REX.CommaGroup, ',').replace(REX.TrimSpaces, '');\n                  source = 'if(!s.match(\"' + expr.replace(/\\x22/g, '\\\\\"') + '\",e)){' + source + '}';\n                  break;\n                case 'has':\n                  referenceElement = selector_string.split(':')[0];\n                  expr = match[2].replace(REX.CommaGroup, ',').replace(REX.TrimSpaces, '');\n                  source = 'if(s.match(\"' + expr.replace(/\\x22/g, '\\\\\"') + ',' + referenceElement + '\",e)){' + source + '}';\n                  break;\n                default:\n                  emit('\\'' + selector_string + '\\'' + qsInvalid);\n                  break;\n              }\n            }\n\n            // *** linguistic pseudo-classes\n            // :dir( ltr / rtl ), :lang( en )\n            else if (match = selector.match(Patterns.linguistic)) {\n              match[1] = match[1].toLowerCase();\n              switch (match[1]) {\n                case 'dir':\n                  source = 'var p;if((' + '(/' + match[2] + '/i.test(e.dir))||(p=s.ancestor(\"[dir]\", e))&&' + '(/' + match[2] + '/i.test(p.dir))||(e.dir==\"\"||e.dir==\"auto\")&&' + '(' + (match[2] == 'ltr' ? '!' : '') + RTL + '.test(e.textContent)))' + '){' + source + '};';\n                  break;\n                case 'lang':\n                  expr = '(?:^|-)' + match[2] + '(?:-|$)';\n                  source = 'var p;if((' + '(e.isConnected&&(e.lang==\"\"&&(p=s.ancestor(\"[lang]\",e)))&&' + '(p.lang==\"' + match[2] + '\")||/' + expr + '/i.test(e.lang)))' + '){' + source + '};';\n                  break;\n                default:\n                  emit('\\'' + selector_string + '\\'' + qsInvalid);\n                  break;\n              }\n            }\n\n            // *** location pseudo-classes\n            // :any-link, :link, :visited, :target\n            else if (match = selector.match(Patterns.locationpc)) {\n              match[1] = match[1].toLowerCase();\n              switch (match[1]) {\n                case 'any-link':\n                  source = 'if((/^a|area$/i.test(e.localName)&&e.hasAttribute(\"href\")||e.visited)){' + source + '}';\n                  break;\n                case 'link':\n                  source = 'if((/^a|area$/i.test(e.localName)&&e.hasAttribute(\"href\"))){' + source + '}';\n                  break;\n                case 'visited':\n                  source = 'if((/^a|area$/i.test(e.localName)&&e.hasAttribute(\"href\")&&e.visited)){' + source + '}';\n                  break;\n                case 'target':\n                  source = 'if(((s.doc.compareDocumentPosition(e)&16)&&s.doc.location.hash&&e.id==s.doc.location.hash.slice(1))){' + source + '}';\n                  break;\n                default:\n                  emit('\\'' + selector_string + '\\'' + qsInvalid);\n                  break;\n              }\n            }\n\n            // *** user actions pseudo-classes\n            // :hover, :active, :focus, :focus-within\n            else if (match = selector.match(Patterns.useraction)) {\n              match[1] = match[1].toLowerCase();\n              switch (match[1]) {\n                case 'hover':\n                  source = 'hasFocus' in doc && doc.hasFocus() ? 'if((e===s.doc.hoverElement)){' + source + '}' : source;\n                  break;\n                case 'active':\n                  source = 'hasFocus' in doc && doc.hasFocus() ? 'if((e===s.doc.activeElement)){' + source + '}' : source;\n                  break;\n                case 'focus':\n                  source = 'hasFocus' in doc ? 'if(e.parentElement&&e.parentElement.style.display!=\"none\"&&' + 'e===s.doc.activeElement&&s.doc.hasFocus()&&(e.type||e.href||typeof e.tabIndex==\"number\")){' + source + '}' : source;\n                  break;\n                case 'focus-within':\n                  source = 'hasFocus' in doc ? 'n=s.doc.activeElement;if(e!==n){while(n&&(n=n.parentElement)){if(e===n)break;}}' + 'if((e===n&&s.doc.hasFocus()&&(e.type||e.href||typeof e.tabIndex==\"number\"))){' + source + '}' : source;\n                  break;\n                default:\n                  emit('\\'' + selector_string + '\\'' + qsInvalid);\n                  break;\n              }\n            }\n\n            // *** user interface and form pseudo-classes\n            // :enabled, :disabled, :read-only, :read-write, :placeholder-shown, :default\n            else if (match = selector.match(Patterns.inputstate)) {\n              match[1] = match[1].toLowerCase();\n              switch (match[1]) {\n                case 'enabled':\n                  source = 'if(((\"form\" in e||/^optgroup$/i.test(e.localName))&&\"disabled\" in e &&e.disabled===false' + ')){' + source + '}';\n                  break;\n                case 'disabled':\n                  // https://www.w3.org/TR/html5/forms.html#enabling-and-disabling-form-controls:-the-disabled-attribute\n                  source = 'if(((\"form\" in e||/^optgroup$/i.test(e.localName))&&\"disabled\" in e&&' + '(e.disabled===true||(n=s.ancestor(\"fieldset\",e))&&(n=s.first(\"legend\",n))&&!n.contains(e))' + ')){' + source + '}';\n                  break;\n                case 'read-only':\n                  source = 'if((' + '(/^textarea$/i.test(e.localName)&&(e.readOnly||e.disabled))||' + '(\"|password|text|\".includes(\"|\"+e.type+\"|\")&&e.readOnly)' + ')){' + source + '}';\n                  break;\n                case 'read-write':\n                  source = 'if((' + '((/^textarea$/i.test(e.localName)&&!e.readOnly&&!e.disabled)||' + '(\"|password|text|\".includes(\"|\"+e.type+\"|\")&&!e.readOnly&&!e.disabled))||' + '(e.hasAttribute(\"contenteditable\")||(s.doc.designMode==\"on\"))' + ')){' + source + '}';\n                  break;\n                case 'placeholder-shown':\n                  source = 'if((' + '(/^input|textarea$/i.test(e.localName))&&e.hasAttribute(\"placeholder\")&&' + '(\"|textarea|password|number|search|email|text|tel|url|\".includes(\"|\"+e.type+\"|\"))&&' + '(!s.match(\":focus\",e))' + ')){' + source + '}';\n                  break;\n                case 'default':\n                  source = 'if((\"form\" in e && e.form)){' + 'var x=0;n=[];' + 'if(e.type==\"image\")n=e.form.getElementsByTagName(\"input\");' + 'if(e.type==\"submit\")n=e.form.elements;' + 'while(n[x]&&e!==n[x]){' + 'if(n[x].type==\"image\")break;' + 'if(n[x].type==\"submit\")break;' + 'x++;' + '}' + '}' + 'if((e.form&&(e===n[x]&&\"|image|submit|\".includes(\"|\"+e.type+\"|\"))||' + '((/^option$/i.test(e.localName))&&e.defaultSelected)||' + '((\"|radio|checkbox|\".includes(\"|\"+e.type+\"|\"))&&e.defaultChecked)' + ')){' + source + '}';\n                  break;\n                default:\n                  emit('\\'' + selector_string + '\\'' + qsInvalid);\n                  break;\n              }\n            }\n\n            // *** input pseudo-classes (for form validation)\n            // :checked, :indeterminate, :valid, :invalid, :in-range, :out-of-range, :required, :optional\n            else if (match = selector.match(Patterns.inputvalue)) {\n              match[1] = match[1].toLowerCase();\n              switch (match[1]) {\n                case 'checked':\n                  source = 'if((/^input$/i.test(e.localName)&&' + '(\"|radio|checkbox|\".includes(\"|\"+e.type+\"|\")&&e.checked)||' + '(/^option$/i.test(e.localName)&&(e.selected||e.checked))' + ')){' + source + '}';\n                  break;\n                case 'indeterminate':\n                  source = 'if((/^progress$/i.test(e.localName)&&!e.hasAttribute(\"value\"))||' + '(/^input$/i.test(e.localName)&&(\"checkbox\"==e.type&&e.indeterminate)||' + '(\"radio\"==e.type&&e.name&&!s.first(\"input[name=\"+e.name+\"]:checked\",e.form))' + ')){' + source + '}';\n                  break;\n                case 'required':\n                  source = 'if((/^input|select|textarea$/i.test(e.localName)&&e.required)' + '){' + source + '}';\n                  break;\n                case 'optional':\n                  source = 'if((/^input|select|textarea$/i.test(e.localName)&&!e.required)' + '){' + source + '}';\n                  break;\n                case 'invalid':\n                  source = 'if(((' + '(/^form$/i.test(e.localName)&&!e.noValidate)||' + '(e.willValidate&&!e.formNoValidate))&&!e.checkValidity())||' + '(/^fieldset$/i.test(e.localName)&&s.first(\":invalid\",e))' + '){' + source + '}';\n                  break;\n                case 'valid':\n                  source = 'if(((' + '(/^form$/i.test(e.localName)&&!e.noValidate)||' + '(e.willValidate&&!e.formNoValidate))&&e.checkValidity())||' + '(/^fieldset$/i.test(e.localName)&&s.first(\":valid\",e))' + '){' + source + '}';\n                  break;\n                case 'in-range':\n                  source = 'if((/^input$/i.test(e.localName))&&' + '(e.willValidate&&!e.formNoValidate)&&' + '(!e.validity.rangeUnderflow&&!e.validity.rangeOverflow)&&' + '(\"|date|datetime-local|month|number|range|time|week|\".includes(\"|\"+e.type+\"|\"))&&' + '(\"range\"==e.type||e.getAttribute(\"min\")||e.getAttribute(\"max\"))' + '){' + source + '}';\n                  break;\n                case 'out-of-range':\n                  source = 'if((/^input$/i.test(e.localName))&&' + '(e.willValidate&&!e.formNoValidate)&&' + '(e.validity.rangeUnderflow||e.validity.rangeOverflow)&&' + '(\"|date|datetime-local|month|number|range|time|week|\".includes(\"|\"+e.type+\"|\"))&&' + '(\"range\"==e.type||e.getAttribute(\"min\")||e.getAttribute(\"max\"))' + '){' + source + '}';\n                  break;\n                default:\n                  emit('\\'' + selector_string + '\\'' + qsInvalid);\n                  break;\n              }\n            }\n\n            // allow pseudo-elements starting with single colon (:)\n            // :after, :before, :first-letter, :first-line\n            // assert: e.type is in double-colon format, like ::after\n            else if (match = selector.match(Patterns.pseudo_sng)) {\n              source = 'if(e.element&&e.type.toLowerCase()==\"' + ':' + match[0].toLowerCase() + '\"){e=e.element;' + source + '}';\n            }\n\n            // allow pseudo-elements starting with double colon (::)\n            // ::after, ::before, ::marker, ::placeholder, ::inactive-selection, ::selection, ::-webkit-<foo-bar>\n            // assert: e.type is in double-colon format, like ::after\n            else if (match = selector.match(Patterns.pseudo_dbl)) {\n              source = 'if(e.element&&e.type.toLowerCase()==\"' + match[0].toLowerCase() + '\"){e=e.element;' + source + '}';\n            }\n\n            // placeholder for parsed only no-op selectors\n            else if (match = selector.match(Patterns.pseudo_nop)) {\n              source = 'if(false){' + source + '}';\n            } else {\n              // reset\n              expr = false;\n              status = false;\n\n              // process registered selector extensions\n              for (expr in Selectors) {\n                if (match = selector.match(Selectors[expr].Expression)) {\n                  result = Selectors[expr].Callback(match, source, mode, callback);\n                  if ('match' in result) {\n                    match = result.match;\n                  }\n                  vars = result.modvar;\n                  if (mode) {\n                    // add extra select() vars\n                    vars && S_VARS.indexOf(vars) < 0 && (S_VARS[S_VARS.length] = vars);\n                  } else {\n                    // add extra match() vars\n                    vars && M_VARS.indexOf(vars) < 0 && (M_VARS[M_VARS.length] = vars);\n                  }\n                  // extension source code\n                  source = result.source;\n                  // extension status code\n                  status = result.status;\n                  // break on status error\n                  if (status) {\n                    break;\n                  }\n                }\n              }\n              if (!status) {\n                emit('unknown pseudo-class selector \\'' + selector + '\\'');\n                return '';\n              }\n              if (!expr) {\n                emit('unknown token in selector \\'' + selector + '\\'');\n                return '';\n              }\n            }\n            break;\n          default:\n            emit('\\'' + selector_string + '\\'' + qsInvalid);\n            break selector_recursion_label;\n        }\n        // end of switch symbol\n\n        if (!match) {\n          emit('\\'' + selector_string + '\\'' + qsInvalid);\n          return '';\n        }\n\n        // pop last component\n        selector = match.pop();\n      }\n      // end of while selector\n\n      return source;\n    },\n    // replace ':scope' pseudo-class with element references\n    makeref = function (selectors, element) {\n      return selectors.replace(/:scope/ig, element.localName + (element.id ? '#' + element.id : '') + (element.className ? '.' + element.classList[0] : ''));\n    },\n    // equivalent of w3c 'closest' method\n    ancestor = function _closest(selectors, element, callback) {\n      if (/:scope/i.test(selectors)) {\n        selectors = makeref(selectors, element);\n      }\n      while (element) {\n        if (match(selectors, element, callback)) break;\n        element = element.parentElement;\n      }\n      return element;\n    },\n    match_assert = function (f, element, callback) {\n      for (var i = 0, l = f.length, r = false; l > i; ++i) f[i](element, callback, null, false) && (r = true);\n      return r;\n    },\n    match_collect = function (selectors, callback) {\n      for (var i = 0, l = selectors.length, f = []; l > i; ++i) f[i] = compile(selectors[i], false, callback);\n      return {\n        factory: f\n      };\n    },\n    // equivalent of w3c 'matches' method\n    match = function _matches(selectors, element, callback) {\n      var expressions, parsed;\n      if (element && matchResolvers[selectors]) {\n        return match_assert(matchResolvers[selectors].factory, element, callback);\n      }\n      lastMatched = selectors;\n\n      // arguments validation\n      if (arguments.length === 0) {\n        emit(qsNotArgs, TypeError);\n        return Config.VERBOSITY ? undefined : false;\n      } else if (arguments[0] === '') {\n        emit('\\'\\'' + qsInvalid);\n        return Config.VERBOSITY ? undefined : false;\n      }\n\n      // input NULL or UNDEFINED\n      if (typeof selectors != 'string') {\n        selectors = '' + selectors;\n      }\n      if (/:scope/i.test(selectors)) {\n        selectors = makeref(selectors, element);\n      }\n\n      // normalize input string\n      parsed = selectors.replace(/\\x00|\\\\$/g, '\\ufffd').replace(REX.CombineWSP, '\\x20').replace(REX.PseudosWSP, '$1').replace(REX.TabCharWSP, '\\t').replace(REX.CommaGroup, ',').replace(REX.TrimSpaces, '');\n\n      // parse, validate and split possible compound selectors\n      if ((expressions = parsed.match(reValidator)) && expressions.join('') == parsed) {\n        expressions = parsed.match(REX.SplitGroup);\n        if (parsed[parsed.length - 1] == ',') {\n          emit(qsInvalid);\n          return Config.VERBOSITY ? undefined : false;\n        }\n      } else {\n        emit('\\'' + selectors + '\\'' + qsInvalid);\n        return Config.VERBOSITY ? undefined : false;\n      }\n      matchResolvers[selectors] = match_collect(expressions, callback);\n      return match_assert(matchResolvers[selectors].factory, element, callback);\n    },\n    // equivalent of w3c 'querySelector' method\n    first = function _querySelector(selectors, context, callback) {\n      if (arguments.length === 0) {\n        emit(qsNotArgs, TypeError);\n      }\n      return select(selectors, context, typeof callback == 'function' ? function firstMatch(element) {\n        callback(element);\n        return false;\n      } : function firstMatch() {\n        return false;\n      })[0] || null;\n    },\n    // equivalent of w3c 'querySelectorAll' method\n    select = function _querySelectorAll(selectors, context, callback) {\n      var expressions,\n        nodes = [],\n        parsed,\n        resolver;\n      context || (context = doc);\n      if (selectors) {\n        if (resolver = selectResolvers[selectors]) {\n          if (resolver.context === context && resolver.callback === callback) {\n            var f = resolver.factory,\n              h = resolver.htmlset,\n              n = resolver.nodeset;\n            if (n.length > 1) {\n              for (var i = 0, l = n.length, list; l > i; ++i) {\n                list = compat[n[i][0]](context, n[i].slice(1))();\n                if (f[i] !== null) {\n                  f[i](list, callback, context, nodes);\n                } else {\n                  nodes = nodes.concat(list);\n                }\n              }\n              if (l > 1 && nodes.length > 1) {\n                nodes.sort(documentOrder);\n                hasDupes && (nodes = unique(nodes));\n              }\n            } else {\n              if (f[0]) {\n                nodes = f[0](h[0](), callback, context, nodes);\n              } else {\n                nodes = h[0]();\n              }\n            }\n            return typeof callback == 'function' ? concatCall(nodes, callback) : nodes;\n          }\n        }\n      }\n      lastSelected = selectors;\n\n      // arguments validation\n      if (arguments.length === 0) {\n        emit(qsNotArgs, TypeError);\n        return Config.VERBOSITY ? undefined : none;\n      } else if (arguments[0] === '') {\n        emit('\\'\\'' + qsInvalid);\n        return Config.VERBOSITY ? undefined : none;\n      } else if (lastContext !== context) {\n        lastContext = switchContext(context);\n      }\n\n      // input NULL or UNDEFINED\n      if (typeof selectors != 'string') {\n        selectors = '' + selectors;\n      }\n      if (/:scope/i.test(selectors)) {\n        selectors = makeref(selectors, context);\n      }\n\n      // normalize input string\n      parsed = selectors.replace(/\\x00|\\\\$/g, '\\ufffd').replace(REX.CombineWSP, '\\x20').replace(REX.PseudosWSP, '$1').replace(REX.TabCharWSP, '\\t').replace(REX.CommaGroup, ',').replace(REX.TrimSpaces, '');\n\n      // parse, validate and split possible compound selectors\n      if ((expressions = parsed.match(reValidator)) && expressions.join('') == parsed) {\n        expressions = parsed.match(REX.SplitGroup);\n        if (parsed[parsed.length - 1] == ',') {\n          emit(qsInvalid);\n          return Config.VERBOSITY ? undefined : false;\n        }\n      } else {\n        emit('\\'' + selectors + '\\'' + qsInvalid);\n        return Config.VERBOSITY ? undefined : false;\n      }\n\n      // save/reuse factory and closure collection\n      selectResolvers[selectors] = collect(expressions, context, callback);\n      nodes = selectResolvers[selectors].results;\n      return typeof callback == 'function' ? concatCall(nodes, callback) : nodes;\n    },\n    // optimize selectors avoiding duplicated checks\n    optimize = function (selector, token) {\n      var index = token.index,\n        length = token[1].length + token[2].length;\n      return selector.slice(0, index) + (' >+~'.indexOf(selector.charAt(index - 1)) > -1 ? ':['.indexOf(selector.charAt(index + length + 1)) > -1 ? '*' : '' : '') + selector.slice(index + length - (token[1] == '*' ? 1 : 0));\n    },\n    // prepare factory resolvers and closure collections\n    collect = function (selectors, context, callback) {\n      var i,\n        l,\n        seen = {},\n        token = ['', '*', '*'],\n        optimized = selectors,\n        factory = [],\n        htmlset = [],\n        nodeset = [],\n        results = [],\n        type;\n      for (i = 0, l = selectors.length; l > i; ++i) {\n        if (!seen[selectors[i]] && (seen[selectors[i]] = true)) {\n          type = selectors[i].match(reOptimizer);\n          if (type && type[1] != ':' && (token = type)) {\n            token[1] || (token[1] = '*');\n            optimized[i] = optimize(optimized[i], token);\n          } else {\n            token = ['', '*', '*'];\n          }\n        }\n        nodeset[i] = token[1] + token[2];\n        htmlset[i] = compat[token[1]](context, token[2]);\n        factory[i] = compile(optimized[i], true, null);\n        factory[i] ? factory[i](htmlset[i](), callback, context, results) : results.concat(htmlset[i]());\n      }\n      if (l > 1) {\n        results.sort(documentOrder);\n        hasDupes && (results = unique(results));\n      }\n      return {\n        callback: callback,\n        context: context,\n        factory: factory,\n        htmlset: htmlset,\n        nodeset: nodeset,\n        results: results\n      };\n    },\n    // QSA placeholders to native references\n    _closest,\n    _matches,\n    _querySelector,\n    _querySelectorAll,\n    // overrides QSA methods (only for browsers)\n    install = function (all) {\n      // save references\n      _closest = Element.prototype.closest;\n      _matches = Element.prototype.matches;\n      _querySelector = Document.prototype.querySelector;\n      _querySelectorAll = Document.prototype.querySelectorAll;\n      function parseQSArgs() {\n        var method = arguments[arguments.length - 1];\n        return arguments.length < 2 ? method.apply(this, []) : arguments.length < 3 ? method.apply(this, [arguments[0], this]) : method.apply(this, [arguments[0], this, typeof arguments[1] == 'function' ? arguments[1] : undefined]);\n      }\n      Element.prototype.closest = function closest() {\n        return parseQSArgs.apply(this, [].slice.call(arguments).concat(ancestor));\n      };\n      Element.prototype.matches = function matches() {\n        return parseQSArgs.apply(this, [].slice.call(arguments).concat(match));\n      };\n      Element.prototype.querySelector = Document.prototype.querySelector = DocumentFragment.prototype.querySelector = function querySelector() {\n        return parseQSArgs.apply(this, [].slice.call(arguments).concat(first));\n      };\n      Element.prototype.querySelectorAll = Document.prototype.querySelectorAll = DocumentFragment.prototype.querySelectorAll = function querySelectorAll() {\n        return parseQSArgs.apply(this, [].slice.call(arguments).concat(select));\n      };\n      if (all) {\n        document.addEventListener('load', function (e) {\n          var c,\n            d,\n            r,\n            s,\n            t = e.target;\n          if (/iframe/i.test(t.localName)) {\n            c = '(' + Export + ')(this, ' + Factory + ');';\n            d = t.contentDocument;\n            s = d.createElement('script');\n            s.textContent = c + 'NW.Dom.install()';\n            r = d.documentElement;\n            r.removeChild(r.insertBefore(s, r.firstChild));\n          }\n        }, true);\n      }\n    },\n    // restore QSA methods (only for browsers)\n    uninstall = function () {\n      // restore references\n      if (_closest) {\n        Element.prototype.closest = _closest;\n      }\n      if (_matches) {\n        Element.prototype.matches = _matches;\n      }\n      if (_querySelector) {\n        Element.prototype.querySelector = Document.prototype.querySelector = DocumentFragment.prototype.querySelector = _querySelector;\n      }\n      if (_querySelectorAll) {\n        Element.prototype.querySelectorAll = Document.prototype.querySelectorAll = DocumentFragment.prototype.querySelectorAll = _querySelectorAll;\n      }\n    },\n    // empty set\n    none = Array(),\n    // context\n    lastContext,\n    // selector\n    lastMatched,\n    lastSelected,\n    // cached lambdas\n    matchLambdas = {},\n    selectLambdas = {},\n    // cached resolvers\n    matchResolvers = {},\n    selectResolvers = {},\n    // passed to resolvers\n    Snapshot = {\n      doc: doc,\n      from: doc,\n      root: root,\n      byTag: byTag,\n      first: first,\n      match: match,\n      ancestor: ancestor,\n      nthOfType: nthOfType,\n      nthElement: nthElement,\n      hasAttributeNS: hasAttributeNS\n    },\n    // public exported methods/objects\n    Dom = {\n      // exported cache objects\n\n      lastMatched: lastMatched,\n      lastSelected: lastSelected,\n      matchLambdas: matchLambdas,\n      selectLambdas: selectLambdas,\n      matchResolvers: matchResolvers,\n      selectResolvers: selectResolvers,\n      // exported compiler macros\n\n      CFG: CFG,\n      M_BODY: M_BODY,\n      S_BODY: S_BODY,\n      M_TEST: M_TEST,\n      S_TEST: S_TEST,\n      // exported engine methods\n\n      byId: byId,\n      byTag: byTag,\n      byClass: byClass,\n      match: match,\n      first: first,\n      select: select,\n      closest: ancestor,\n      compile: compile,\n      configure: configure,\n      emit: emit,\n      Config: Config,\n      Snapshot: Snapshot,\n      Version: version,\n      install: install,\n      uninstall: uninstall,\n      Operators: Operators,\n      Selectors: Selectors,\n      // register a new selector combinator symbol and its related function resolver\n      registerCombinator: function (combinator, resolver) {\n        var i = 0,\n          l = combinator.length,\n          symbol;\n        for (; l > i; ++i) {\n          if (combinator[i] != '=') {\n            symbol = combinator[i];\n            break;\n          }\n        }\n        if (CFG.combinators.indexOf(symbol) < 0) {\n          CFG.combinators = CFG.combinators.replace('](', symbol + '](');\n          CFG.combinators = CFG.combinators.replace('])', symbol + '])');\n          Combinators[combinator] = resolver;\n          setIdentifierSyntax();\n        } else {\n          console.warn('Warning: the \\'' + combinator + '\\' combinator is already registered.');\n        }\n      },\n      // register a new attribute operator symbol and its related function resolver\n      registerOperator: function (operator, resolver) {\n        var i = 0,\n          l = operator.length,\n          symbol;\n        for (; l > i; ++i) {\n          if (operator[i] != '=') {\n            symbol = operator[i];\n            break;\n          }\n        }\n        if (CFG.operators.indexOf(symbol) < 0 && !Operators[operator]) {\n          CFG.operators = CFG.operators.replace(']=', symbol + ']=');\n          Operators[operator] = resolver;\n          setIdentifierSyntax();\n        } else {\n          console.warn('Warning: the \\'' + operator + '\\' operator is already registered.');\n        }\n      },\n      // register a new selector symbol and its related function resolver\n      registerSelector: function (name, rexp, func) {\n        Selectors[name] || (Selectors[name] = {\n          Expression: rexp,\n          Callback: func\n        });\n      }\n    };\n  initialize(doc);\n  return Dom;\n});","map":{"version":3,"names":["Export","global","factory","module","exports","define","NW","Dom","Factory","version","doc","document","root","documentElement","slice","Array","prototype","HSP","VSP","WSP","CFG","operators","combinators","NOT","double_enc","single_enc","parens_enc","square_enc","REX","HasEscapes","RegExp","HexNumbers","EscOrQuote","RegExpChar","TrimSpaces","SplitGroup","CommaGroup","FixEscapes","CombineWSP","TabCharWSP","PseudosWSP","STD","combinator","apimethods","namespaces","GROUPS","linguistic","logicalsel","treestruct","locationpc","useraction","structural","inputstate","inputvalue","pseudo_nop","pseudo_sng","pseudo_dbl","Patterns","children","adjacent","relative","ancestor","universal","namespace","RTL","qsNotArgs","qsInvalid","reNthElem","reNthType","reOptimizer","reValidator","Config","IDS_DUPES","NONDIGITS","LOGERRORS","VERBOSITY","NAMESPACE","QUIRKS_MODE","HTML_DOCUMENT","ATTR_STD_OPS","HTML_TABLE","Combinators","Selectors","Operators","p1","p2","p3","concatCall","nodes","callback","i","l","length","list","concatList","documentOrder","a","b","hasDupes","compareDocumentPosition","unique","j","switchContext","context","force","oldDoc","ownerDocument","isHTML","compatMode","indexOf","namespaceURI","Snapshot","from","codePointToUTF16","codePoint","lowHex","toString","substr","stringFromCodePoint","String","fromCharCode","fromCodePoint","convertEscapes","str","test","replace","substring","parseInt","unescapeIdentifier","method","compat","#","c","n","e","f","byId","*","byTag","|",".","byClass","byIdRaw","id","node","next","firstElementChild","nextElementSibling","parentElement","api","none","all","nodeType","getAttribute","tag","call","toLowerCase","localName","cls","reCls","className","hasAttributeNS","name","attr","getAttributeNames","nthElement","idx","len","set","parent","undefined","parents","element","dir","k","nthOfType","Object","contentType","createElement","configure","option","clear","matchResolvers","selectResolvers","setIdentifierSyntax","emit","message","proto","err","DOMException","console","log","initialize","lastContext","identifier","pseudonames","pseudoparms","doublequote","singlequote","attrparser","attrvalues","attributes","attrmatcher","pseudoclass","standardValidator","tagName","attribute","F_INIT","S_HEAD","M_HEAD","S_LOOP","N_LOOP","M_LOOP","S_BODY","N_BODY","M_BODY","S_TAIL","M_TAIL","S_TEST","N_TEST","M_TEST","S_VARS","M_VARS","compile","selector","mode","token","head","loop","macro","source","vars","selectLambdas","matchLambdas","compileSelector","includes","join","Function","expression","NS","referenceElement","expr","match","result","status","symbol","type","selector_string","lastSelected","lastMatched","selector_recursion_label","prefix","split","Math","abs","hasFocus","Expression","Callback","modvar","pop","makeref","selectors","classList","_closest","match_assert","r","match_collect","_matches","expressions","parsed","arguments","TypeError","first","_querySelector","select","firstMatch","_querySelectorAll","resolver","h","htmlset","nodeset","concat","sort","collect","results","optimize","index","charAt","seen","optimized","install","Element","closest","matches","Document","querySelector","querySelectorAll","parseQSArgs","apply","DocumentFragment","addEventListener","d","s","t","target","contentDocument","textContent","removeChild","insertBefore","firstChild","uninstall","Version","registerCombinator","warn","registerOperator","operator","registerSelector","rexp","func"],"sources":["D:/benki/Programming/GitHub/homelab-dashboard/client/homelab-dashboard/node_modules/nwsapi/src/nwsapi.js"],"sourcesContent":["/*\n * Copyright (C) 2007-2023 Diego Perini\n * All rights reserved.\n *\n * nwsapi.js - Fast CSS Selectors API Engine\n *\n * Author: Diego Perini <diego.perini at gmail com>\n * Version: 2.2.7\n * Created: 20070722\n * Release: 20230701\n *\n * License:\n *  http://javascript.nwbox.com/nwsapi/MIT-LICENSE\n * Download:\n *  http://javascript.nwbox.com/nwsapi/nwsapi.js\n */\n\n(function Export(global, factory) {\n\n  'use strict';\n\n  if (typeof module == 'object' && typeof exports == 'object') {\n    module.exports = factory;\n  } else if (typeof define == 'function' && define['amd']) {\n    define(factory);\n  } else {\n    global.NW || (global.NW = { });\n    global.NW.Dom = factory(global, Export);\n  }\n\n})(this, function Factory(global, Export) {\n\n  var version = 'nwsapi-2.2.7',\n\n  doc = global.document,\n  root = doc.documentElement,\n  slice = Array.prototype.slice,\n\n  HSP = '[\\\\x20\\\\t]',\n  VSP = '[\\\\r\\\\n\\\\f]',\n  WSP = '[\\\\x20\\\\t\\\\r\\\\n\\\\f]',\n\n  CFG = {\n    // extensions\n    operators: '[~*^$|]=|=',\n    combinators: '[\\\\x20\\\\t>+~](?=[^>+~])'\n  },\n\n  NOT = {\n    // not enclosed in double/single/parens/square\n    double_enc: '(?=(?:[^\"]*[\"][^\"]*[\"])*[^\"]*$)',\n    single_enc: \"(?=(?:[^']*['][^']*['])*[^']*$)\",\n    parens_enc: '(?![^\\\\x28]*\\\\x29)',\n    square_enc: '(?![^\\\\x5b]*\\\\x5d)'\n  },\n\n  REX = {\n    // regular expressions\n    HasEscapes: RegExp('\\\\\\\\'),\n    HexNumbers: RegExp('^[0-9a-fA-F]'),\n    EscOrQuote: RegExp('^\\\\\\\\|[\\\\x22\\\\x27]'),\n    RegExpChar: RegExp('(?!\\\\\\\\)[\\\\\\\\^$.,*+?()[\\\\]{}|\\\\/]', 'g'),\n    TrimSpaces: RegExp('^' + WSP + '+|' + WSP + '+$|' + VSP, 'g'),\n    SplitGroup: RegExp('(\\\\([^)]*\\\\)|\\\\[[^[]*\\\\]|\\\\\\\\.|[^,])+', 'g'),\n    CommaGroup: RegExp('(\\\\s*,\\\\s*)' + NOT.square_enc + NOT.parens_enc, 'g'),\n    FixEscapes: RegExp('\\\\\\\\([0-9a-fA-F]{1,6}' + WSP + '?|.)|([\\\\x22\\\\x27])', 'g'),\n    CombineWSP: RegExp('[\\\\n\\\\r\\\\f\\\\x20]+' + NOT.single_enc + NOT.double_enc, 'g'),\n    TabCharWSP: RegExp('(\\\\x20?\\\\t+\\\\x20?)' + NOT.single_enc + NOT.double_enc, 'g'),\n    PseudosWSP: RegExp('\\\\s+([-+])\\\\s+' + NOT.square_enc, 'g')\n  },\n\n  STD = {\n    combinator: RegExp('\\\\s?([>+~])\\\\s?', 'g'),\n    apimethods: RegExp('^(?:[a-z]+|\\\\*)\\\\|', 'i'),\n    namespaces: RegExp('(\\\\*|[a-z]+)\\\\|[-a-z]+', 'i')\n  },\n\n  GROUPS = {\n    // pseudo-classes requiring parameters\n    linguistic: '(dir|lang)(?:\\\\x28\\\\s?([-\\\\w]{2,})\\\\s?\\\\x29)',\n    logicalsel: '(is|where|matches|not|has)(?:\\\\x28\\\\s?(\\\\[([^\\\\[\\\\]]*)\\\\]|[^()\\\\[\\\\]]*|.*)\\\\s?\\\\x29)',\n    treestruct: '(nth(?:-last)?(?:-child|-of-type))(?:\\\\x28\\\\s?(even|odd|(?:[-+]?\\\\d*)(?:n\\\\s?[-+]?\\\\s?\\\\d*)?)\\\\s?\\\\x29)',\n    // pseudo-classes not requiring parameters\n    locationpc: '(any-link|link|visited|target)\\\\b',\n    useraction: '(hover|active|focus-within|focus)\\\\b',\n    structural: '(root|empty|(?:(?:first|last|only)(?:-child|-of-type)))\\\\b',\n    inputstate: '(enabled|disabled|read-only|read-write|placeholder-shown|default)\\\\b',\n    inputvalue: '(checked|indeterminate|required|optional|valid|invalid|in-range|out-of-range)\\\\b',\n    // pseudo-classes for parsing only selectors\n    pseudo_nop: '(autofill|-webkit-autofill)\\\\b',\n    // pseudo-elements starting with single colon (:)\n    pseudo_sng: '(after|before|first-letter|first-line)\\\\b',\n    // pseudo-elements starting with double colon (::)\n    pseudo_dbl: ':(after|before|first-letter|first-line|selection|placeholder|-webkit-[-a-zA-Z0-9]{2,})\\\\b'\n  },\n\n  Patterns = {\n    // pseudo-classes\n    treestruct: RegExp('^:(?:' + GROUPS.treestruct + ')(.*)', 'i'),\n    structural: RegExp('^:(?:' + GROUPS.structural + ')(.*)', 'i'),\n    linguistic: RegExp('^:(?:' + GROUPS.linguistic + ')(.*)', 'i'),\n    useraction: RegExp('^:(?:' + GROUPS.useraction + ')(.*)', 'i'),\n    inputstate: RegExp('^:(?:' + GROUPS.inputstate + ')(.*)', 'i'),\n    inputvalue: RegExp('^:(?:' + GROUPS.inputvalue + ')(.*)', 'i'),\n    locationpc: RegExp('^:(?:' + GROUPS.locationpc + ')(.*)', 'i'),\n    logicalsel: RegExp('^:(?:' + GROUPS.logicalsel + ')(.*)', 'i'),\n    pseudo_nop: RegExp('^:(?:' + GROUPS.pseudo_nop + ')(.*)', 'i'),\n    pseudo_sng: RegExp('^:(?:' + GROUPS.pseudo_sng + ')(.*)', 'i'),\n    pseudo_dbl: RegExp('^:(?:' + GROUPS.pseudo_dbl + ')(.*)', 'i'),\n    // combinator symbols\n    children: RegExp('^' + WSP + '?\\\\>' + WSP + '?(.*)'),\n    adjacent: RegExp('^' + WSP + '?\\\\+' + WSP + '?(.*)'),\n    relative: RegExp('^' + WSP + '?\\\\~' + WSP + '?(.*)'),\n    ancestor: RegExp('^' + WSP + '+(.*)'),\n   // universal & namespace\n   universal: RegExp('^\\\\*(.*)'),\n   namespace: RegExp('^(\\\\w+|\\\\*)?\\\\|(.*)')\n  },\n\n  // regexp to aproximate detection of RTL languages (Arabic)\n  RTL = RegExp('^[\\\\u0591-\\\\u08ff\\\\ufb1d-\\\\ufdfd\\\\ufe70-\\\\ufefc ]+$'),\n\n  // emulate firefox error strings\n  qsNotArgs = 'Not enough arguments',\n  qsInvalid = ' is not a valid selector',\n\n  // detect structural pseudo-classes in selectors\n  reNthElem = RegExp('(:nth(?:-last)?-child)', 'i'),\n  reNthType = RegExp('(:nth(?:-last)?-of-type)', 'i'),\n\n  // placeholder for global regexp\n  reOptimizer,\n  reValidator,\n\n  // special handling configuration flags\n  Config = {\n    IDS_DUPES: true,\n    NONDIGITS: true,\n    LOGERRORS: true,\n    VERBOSITY: true\n  },\n\n  NAMESPACE,\n  QUIRKS_MODE,\n  HTML_DOCUMENT,\n\n  ATTR_STD_OPS = {\n    '=': 1, '^=': 1, '$=': 1, '|=': 1, '*=': 1, '~=': 1\n  },\n\n  HTML_TABLE = {\n    'accept': 1, 'accept-charset': 1, 'align': 1, 'alink': 1, 'axis': 1,\n    'bgcolor': 1, 'charset': 1, 'checked': 1, 'clear': 1, 'codetype': 1, 'color': 1,\n    'compact': 1, 'declare': 1, 'defer': 1, 'dir': 1, 'direction': 1, 'disabled': 1,\n    'enctype': 1, 'face': 1, 'frame': 1, 'hreflang': 1, 'http-equiv': 1, 'lang': 1,\n    'language': 1, 'link': 1, 'media': 1, 'method': 1, 'multiple': 1, 'nohref': 1,\n    'noresize': 1, 'noshade': 1, 'nowrap': 1, 'readonly': 1, 'rel': 1, 'rev': 1,\n    'rules': 1, 'scope': 1, 'scrolling': 1, 'selected': 1, 'shape': 1, 'target': 1,\n    'text': 1, 'type': 1, 'valign': 1, 'valuetype': 1, 'vlink': 1\n  },\n\n  Combinators = { },\n\n  Selectors = { },\n\n  Operators = {\n     '=': { p1: '^',\n            p2: '$',\n            p3: 'true' },\n    '^=': { p1: '^',\n            p2: '',\n            p3: 'true' },\n    '$=': { p1: '',\n            p2: '$',\n            p3: 'true' },\n    '*=': { p1: '',\n            p2: '',\n            p3: 'true' },\n    '|=': { p1: '^',\n            p2: '(-|$)',\n            p3: 'true' },\n    '~=': { p1: '(^|\\\\s)',\n            p2: '(\\\\s|$)',\n            p3: 'true' }\n  },\n\n  concatCall =\n    function(nodes, callback) {\n      var i = 0, l = nodes.length, list = Array(l);\n      while (l > i) {\n        if (false === callback(list[i] = nodes[i])) break;\n        ++i;\n      }\n      return list;\n    },\n\n  concatList =\n    function(list, nodes) {\n      var i = -1, l = nodes.length;\n      while (l--) { list[list.length] = nodes[++i]; }\n      return list;\n    },\n\n  documentOrder =\n    function(a, b) {\n      if (!hasDupes && a === b) {\n        hasDupes = true;\n        return 0;\n      }\n      return a.compareDocumentPosition(b) & 4 ? -1 : 1;\n    },\n\n  hasDupes = false,\n\n  unique =\n    function(nodes) {\n      var i = 0, j = -1, l = nodes.length + 1, list = [ ];\n      while (--l) {\n        if (nodes[i++] === nodes[i]) continue;\n        list[++j] = nodes[i - 1];\n      }\n      hasDupes = false;\n      return list;\n    },\n\n  switchContext =\n    function(context, force) {\n      var oldDoc = doc;\n      doc = context.ownerDocument || context;\n      if (force || oldDoc !== doc) {\n        // force a new check for each document change\n        // performed before the next select operation\n        root = doc.documentElement;\n        HTML_DOCUMENT = isHTML(doc);\n        QUIRKS_MODE = HTML_DOCUMENT &&\n          doc.compatMode.indexOf('CSS') < 0;\n        NAMESPACE = root && root.namespaceURI;\n        Snapshot.doc = doc;\n        Snapshot.root = root;\n      }\n      return (Snapshot.from = context);\n    },\n\n  // convert single codepoint to UTF-16 encoding\n  codePointToUTF16 =\n    function(codePoint) {\n      // out of range, use replacement character\n      if (codePoint < 1 || codePoint > 0x10ffff ||\n        (codePoint > 0xd7ff && codePoint < 0xe000)) {\n        return '\\\\ufffd';\n      }\n      // javascript strings are UTF-16 encoded\n      if (codePoint < 0x10000) {\n        var lowHex = '000' + codePoint.toString(16);\n        return '\\\\u' + lowHex.substr(lowHex.length - 4);\n      }\n      // supplementary high + low surrogates\n      return '\\\\u' + (((codePoint - 0x10000) >> 0x0a) + 0xd800).toString(16) +\n             '\\\\u' + (((codePoint - 0x10000) % 0x400) + 0xdc00).toString(16);\n    },\n\n  // convert single codepoint to string\n  stringFromCodePoint =\n    function(codePoint) {\n      // out of range, use replacement character\n      if (codePoint < 1 || codePoint > 0x10ffff ||\n        (codePoint > 0xd7ff && codePoint < 0xe000)) {\n        return '\\ufffd';\n      }\n      if (codePoint < 0x10000) {\n        return String.fromCharCode(codePoint);\n      }\n      return String.fromCodePoint ?\n        String.fromCodePoint(codePoint) :\n        String.fromCharCode(\n          ((codePoint - 0x10000) >> 0x0a) + 0xd800,\n          ((codePoint - 0x10000) % 0x400) + 0xdc00);\n    },\n\n  // convert escape sequence in a CSS string or identifier\n  // to javascript string with javascript escape sequences\n  convertEscapes =\n    function(str) {\n      return REX.HasEscapes.test(str) ?\n        str.replace(REX.FixEscapes,\n          function(substring, p1, p2) {\n            // unescaped \" or '\n            return p2 ? '\\\\' + p2 :\n              // javascript strings are UTF-16 encoded\n              REX.HexNumbers.test(p1) ? codePointToUTF16(parseInt(p1, 16)) :\n              // \\' \\\"\n              REX.EscOrQuote.test(p1) ? substring :\n              // \\g \\h \\. \\# etc\n              p1;\n          }\n        ) : str;\n    },\n\n  // convert escape sequence in a CSS string or identifier\n  // to javascript string with characters representations\n  unescapeIdentifier =\n    function(str) {\n      return REX.HasEscapes.test(str) ?\n        str.replace(REX.FixEscapes,\n          function(substring, p1, p2) {\n            // unescaped \" or '\n            return p2 ? p2 :\n              // javascript strings are UTF-16 encoded\n              REX.HexNumbers.test(p1) ? stringFromCodePoint(parseInt(p1, 16)) :\n              // \\' \\\"\n              REX.EscOrQuote.test(p1) ? substring :\n              // \\g \\h \\. \\# etc\n              p1;\n          }\n        ) : str;\n    },\n\n  method = {\n    '#': 'getElementById',\n    '*': 'getElementsByTagName',\n    '|': 'getElementsByTagNameNS',\n    '.': 'getElementsByClassName'\n    },\n\n  compat = {\n    '#': function(c, n) { REX.HasEscapes.test(n) && (n = unescapeIdentifier(n)); return function(e, f) { return byId(n, c); }; },\n    '*': function(c, n) { REX.HasEscapes.test(n) && (n = unescapeIdentifier(n)); return function(e, f) { return byTag(n, c); }; },\n    '|': function(c, n) { REX.HasEscapes.test(n) && (n = unescapeIdentifier(n)); return function(e, f) { return byTag(n, c); }; },\n    '.': function(c, n) { REX.HasEscapes.test(n) && (n = unescapeIdentifier(n)); return function(e, f) { return byClass(n, c); }; }\n    },\n\n  // find duplicate ids using iterative walk\n  byIdRaw =\n    function(id, context) {\n      var node = context, nodes = [ ], next = node.firstElementChild;\n      while ((node = next)) {\n        node.id == id && (nodes[nodes.length] = node);\n        if ((next = node.firstElementChild || node.nextElementSibling)) continue;\n        while (!next && (node = node.parentElement) && node !== context) {\n          next = node.nextElementSibling;\n        }\n      }\n      return nodes;\n    },\n\n  // context agnostic getElementById\n  byId =\n    function(id, context) {\n      var e, i, l, nodes, api = method['#'];\n\n      // duplicates id allowed\n      if (Config.IDS_DUPES === false) {\n        if (api in context) {\n          return (e = context[api](id)) ? [ e ] : none;\n        }\n      } else {\n        if ('all' in context) {\n          if ((e = context.all[id])) {\n            if (e.nodeType == 1) return e.getAttribute('id') != id ? [ ] : [ e ];\n            else if (id == 'length') return (e = context[api](id)) ? [ e ] : none;\n            for (i = 0, l = e.length, nodes = [ ]; l > i; ++i) {\n              if (e[i].id == id) nodes[nodes.length] = e[i];\n            }\n            return nodes && nodes.length ? nodes : [ nodes ];\n          } else return none;\n        }\n      }\n\n      return byIdRaw(id, context);\n    },\n\n  // context agnostic getElementsByTagName\n  byTag =\n    function(tag, context) {\n      var e, nodes, api = method['*'];\n      // DOCUMENT_NODE (9) & ELEMENT_NODE (1)\n      if (api in context) {\n        return slice.call(context[api](tag));\n      } else {\n        tag = tag.toLowerCase();\n        // DOCUMENT_FRAGMENT_NODE (11)\n        if ((e = context.firstElementChild)) {\n          if (!(e.nextElementSibling || tag == '*' || e.localName == tag)) {\n            return slice.call(e[api](tag));\n          } else {\n            nodes = [ ];\n            do {\n              if (tag == '*' || e.localName == tag) nodes[nodes.length] = e;\n              concatList(nodes, e[api](tag));\n            } while ((e = e.nextElementSibling));\n          }\n        } else nodes = none;\n      }\n      return nodes;\n    },\n\n  // context agnostic getElementsByClassName\n  byClass =\n    function(cls, context) {\n      var e, nodes, api = method['.'], reCls;\n      // DOCUMENT_NODE (9) & ELEMENT_NODE (1)\n      if (api in context) {\n        return slice.call(context[api](cls));\n      } else {\n        // DOCUMENT_FRAGMENT_NODE (11)\n        if ((e = context.firstElementChild)) {\n          reCls = RegExp('(^|\\\\s)' + cls + '(\\\\s|$)', QUIRKS_MODE ? 'i' : '');\n          if (!(e.nextElementSibling || reCls.test(e.className))) {\n            return slice.call(e[api](cls));\n          } else {\n            nodes = [ ];\n            do {\n              if (reCls.test(e.className)) nodes[nodes.length] = e;\n              concatList(nodes, e[api](cls));\n            } while ((e = e.nextElementSibling));\n          }\n        } else nodes = none;\n      }\n      return nodes;\n    },\n\n  // namespace aware hasAttribute\n  // helper for XML/XHTML documents\n  hasAttributeNS =\n    function(e, name) {\n      var i, l, attr = e.getAttributeNames();\n      name = RegExp(':?' + name + '$', HTML_DOCUMENT ? 'i' : '');\n      for (i = 0, l = attr.length; l > i; ++i) {\n        if (name.test(attr[i])) return true;\n      }\n      return false;\n    },\n\n  // fast resolver for the :nth-child() and :nth-last-child() pseudo-classes\n  nthElement = (function() {\n    var idx = 0, len = 0, set = 0, parent = undefined, parents = Array(), nodes = Array();\n    return function(element, dir) {\n      // ensure caches are emptied after each run, invoking with dir = 2\n      if (dir == 2) {\n        idx = 0; len = 0; set = 0; nodes.length = 0;\n        parents.length = 0; parent = undefined;\n        return -1;\n      }\n      var e, i, j, k, l;\n      if (parent === element.parentElement) {\n        i = set; j = idx; l = len;\n      } else {\n        l = parents.length;\n        parent = element.parentElement;\n        for (i = -1, j = 0, k = l - 1; l > j; ++j, --k) {\n          if (parents[j] === parent) { i = j; break; }\n          if (parents[k] === parent) { i = k; break; }\n        }\n        if (i < 0) {\n          parents[i = l] = parent;\n          l = 0; nodes[i] = Array();\n          e = parent && parent.firstElementChild || element;\n          while (e) { nodes[i][l] = e; if (e === element) j = l; e = e.nextElementSibling; ++l; }\n          set = i; idx = 0; len = l;\n          if (l < 2) return l;\n        } else {\n          l = nodes[i].length;\n          set = i;\n        }\n      }\n      if (element !== nodes[i][j] && element !== nodes[i][j = 0]) {\n        for (j = 0, e = nodes[i], k = l - 1; l > j; ++j, --k) {\n          if (e[j] === element) { break; }\n          if (e[k] === element) { j = k; break; }\n        }\n      }\n      idx = j + 1; len = l;\n      return dir ? l - j : idx;\n    };\n  })(),\n\n  // fast resolver for the :nth-of-type() and :nth-last-of-type() pseudo-classes\n  nthOfType = (function() {\n    var idx = 0, len = 0, set = 0, parent = undefined, parents = Array(), nodes = Array();\n    return function(element, dir) {\n      // ensure caches are emptied after each run, invoking with dir = 2\n      if (dir == 2) {\n        idx = 0; len = 0; set = 0; nodes.length = 0;\n        parents.length = 0; parent = undefined;\n        return -1;\n      }\n      var e, i, j, k, l, name = element.localName;\n      if (nodes[set] && nodes[set][name] && parent === element.parentElement) {\n        i = set; j = idx; l = len;\n      } else {\n        l = parents.length;\n        parent = element.parentElement;\n        for (i = -1, j = 0, k = l - 1; l > j; ++j, --k) {\n          if (parents[j] === parent) { i = j; break; }\n          if (parents[k] === parent) { i = k; break; }\n        }\n        if (i < 0 || !nodes[i][name]) {\n          parents[i = l] = parent;\n          nodes[i] || (nodes[i] = Object());\n          l = 0; nodes[i][name] = Array();\n          e = parent && parent.firstElementChild || element;\n          while (e) { if (e === element) j = l; if (e.localName == name) { nodes[i][name][l] = e; ++l; } e = e.nextElementSibling; }\n          set = i; idx = j; len = l;\n          if (l < 2) return l;\n        } else {\n          l = nodes[i][name].length;\n          set = i;\n        }\n      }\n      if (element !== nodes[i][name][j] && element !== nodes[i][name][j = 0]) {\n        for (j = 0, e = nodes[i][name], k = l - 1; l > j; ++j, --k) {\n          if (e[j] === element) { break; }\n          if (e[k] === element) { j = k; break; }\n        }\n      }\n      idx = j + 1; len = l;\n      return dir ? l - j : idx;\n    };\n  })(),\n\n  // check if the document type is HTML\n  isHTML =\n    function(node) {\n      var doc = node.ownerDocument || node;\n      return doc.nodeType == 9 &&\n        // contentType not in IE <= 11\n        'contentType' in doc ?\n          doc.contentType.indexOf('/html') > 0 :\n          doc.createElement('DiV').localName == 'div';\n    },\n\n  // configure the engine to use special handling\n  configure =\n    function(option, clear) {\n      if (typeof option == 'string') { return !!Config[option]; }\n      if (typeof option != 'object') { return Config; }\n      for (var i in option) {\n        Config[i] = !!option[i];\n      }\n      // clear lambda cache\n      if (clear) {\n        matchResolvers = { };\n        selectResolvers = { };\n      }\n      setIdentifierSyntax();\n      return true;\n    },\n\n  // centralized error and exceptions handling\n  emit =\n    function(message, proto) {\n      var err;\n      if (Config.VERBOSITY) {\n        if (proto) {\n          err = new proto(message);\n        } else {\n          err = new global.DOMException(message, 'SyntaxError');\n        }\n        throw err;\n      }\n      if (Config.LOGERRORS && console && console.log) {\n        console.log(message);\n      }\n    },\n\n  // execute the engine initialization code\n  initialize =\n    function(doc) {\n      setIdentifierSyntax();\n      lastContext = switchContext(doc, true);\n    },\n\n  // build validation regexps used by the engine\n  setIdentifierSyntax =\n    function() {\n\n      //\n      // NOTE: SPECIAL CASES IN CSS SYNTAX PARSING RULES\n      //\n      // The <EOF-token> https://drafts.csswg.org/css-syntax/#typedef-eof-token\n      // allow mangled|unclosed selector syntax at the end of selectors strings\n      //\n      // Literal equivalent hex representations of the characters: \" ' ` ] )\n      //\n      //     \\\\x22 = \" - double quotes    \\\\x5b = [ - open square bracket\n      //     \\\\x27 = ' - single quote     \\\\x5d = ] - closed square bracket\n      //     \\\\x60 = ` - back tick        \\\\x28 = ( - open round parens\n      //     \\\\x5c = \\ - back slash       \\\\x29 = ) - closed round parens\n      //\n      // using hex format prevents false matches of opened/closed instances\n      // pairs, coloring breakage and other editors highlightning problems.\n      //\n\n      var identifier =\n        // doesn't start with a digit\n        (Config.NONDIGITS ? '(?=[^0-9])' : '') +\n        // can start with double dash\n        '(?:-{2}' +\n          // may include ascii chars\n          '|[a-zA-Z0-9-_]' +\n          // non-ascii chars\n          '|[^\\\\x00-\\\\x9f]' +\n          // escaped chars\n          '|\\\\\\\\[^\\\\r\\\\n\\\\f0-9a-fA-F]' +\n          // unicode chars\n          '|\\\\\\\\[0-9a-fA-F]{1,6}(?:\\\\r\\\\n|\\\\s)?' +\n          // any escaped chars\n          '|\\\\\\\\.' +\n        ')+',\n\n      pseudonames = '[-\\\\w]+',\n      pseudoparms = '(?:[-+]?\\\\d*)(?:n\\\\s?[-+]?\\\\s?\\\\d*)',\n      doublequote = '\"[^\"\\\\\\\\]*(?:\\\\\\\\.[^\"\\\\\\\\]*)*(?:\"|$)',\n      singlequote = \"'[^'\\\\\\\\]*(?:\\\\\\\\.[^'\\\\\\\\]*)*(?:'|$)\",\n\n      attrparser = identifier + '|' + doublequote + '|' + singlequote,\n\n      attrvalues = '([\\\\x22\\\\x27]?)((?!\\\\3)*|(?:\\\\\\\\?.)*?)(?:\\\\3|$)',\n\n      attributes =\n        '\\\\[' +\n          // attribute presence\n          '(?:\\\\*\\\\|)?' +\n          WSP + '?' +\n          '(' + identifier + '(?::' + identifier + ')?)' +\n          WSP + '?' +\n          '(?:' +\n            '(' + CFG.operators + ')' + WSP + '?' +\n            '(?:' + attrparser + ')' +\n          ')?' +\n          // attribute case sensitivity\n          '(?:' + WSP + '?\\\\b(i))?' + WSP + '?' +\n        '(?:\\\\]|$)',\n\n      attrmatcher = attributes.replace(attrparser, attrvalues),\n\n      pseudoclass =\n        '(?:\\\\x28' + WSP + '*' +\n          '(?:' + pseudoparms + '?)?|' +\n          // universal * &\n          // namespace *|*\n          '(?:\\\\*|\\\\|)|' +\n          '(?:' +\n            '(?::' + pseudonames +\n            '(?:\\\\x28' + pseudoparms + '?(?:\\\\x29|$))?|' +\n          ')|' +\n          '(?:[.#]?' + identifier + ')|' +\n          '(?:' + attributes + ')' +\n          ')+|' +\n          '(?:' + WSP + '?,' + WSP + '?)|' +\n          '(?:' + WSP + '?)|' +\n          '(?:\\\\x29|$))*',\n\n      standardValidator =\n        '(?=' + WSP + '?[^>+~(){}<>])' +\n        '(?:' +\n          // universal * &\n          // namespace *|*\n          '(?:\\\\*|\\\\|)|' +\n          '(?:[.#]?' + identifier + ')+|' +\n          '(?:' + attributes + ')+|' +\n          '(?:::?' + pseudonames + pseudoclass + ')|' +\n          '(?:' + WSP + '?' + CFG.combinators + WSP + '?)|' +\n          '(?:' + WSP + '?,' + WSP + '?)|' +\n          '(?:' + WSP + '?)' +\n        ')+';\n\n      // the following global RE is used to return the\n      // deepest localName in selector strings and then\n      // use it to retrieve all possible matching nodes\n      // that will be filtered by compiled resolvers\n      reOptimizer = RegExp(\n        '(?:([.:#*]?)' +\n        '(' + identifier + ')' +\n        '(?:' +\n          ':[-\\\\w]+|' +\n          '\\\\[[^\\\\]]+(?:\\\\]|$)|' +\n          '\\\\x28[^\\\\x29]+(?:\\\\x29|$)' +\n        ')*)$');\n\n      // global\n      reValidator = RegExp(standardValidator, 'g');\n\n      Patterns.id = RegExp('^#(' + identifier + ')(.*)');\n      Patterns.tagName = RegExp('^(' + identifier + ')(.*)');\n      Patterns.className = RegExp('^\\\\.(' + identifier + ')(.*)');\n      Patterns.attribute = RegExp('^(?:' + attrmatcher + ')(.*)');\n    },\n\n  F_INIT = '\"use strict\";return function Resolver(c,f,x,r)',\n\n  S_HEAD = 'var e,n,o,j=r.length-1,k=-1',\n  M_HEAD = 'var e,n,o',\n\n  S_LOOP = 'main:while((e=c[++k]))',\n  N_LOOP = 'main:while((e=c.item(++k)))',\n  M_LOOP = 'e=c;',\n\n  S_BODY = 'r[++j]=c[k];',\n  N_BODY = 'r[++j]=c.item(k);',\n  M_BODY = '',\n\n  S_TAIL = 'continue main;',\n  M_TAIL = 'r=true;',\n\n  S_TEST = 'if(f(c[k])){break main;}',\n  N_TEST = 'if(f(c.item(k))){break main;}',\n  M_TEST = 'f(c);',\n\n  S_VARS = [ ],\n  M_VARS = [ ],\n\n  // compile groups or single selector strings into\n  // executable functions for matching or selecting\n  compile =\n    function(selector, mode, callback) {\n      var factory, token, head = '', loop = '', macro = '', source = '', vars = '';\n\n      // 'mode' can be boolean or null\n      // true = select / false = match\n      // null to use collection.item()\n      switch (mode) {\n        case true:\n          if (selectLambdas[selector]) { return selectLambdas[selector]; }\n          macro = S_BODY + (callback ? S_TEST : '') + S_TAIL;\n          head = S_HEAD;\n          loop = S_LOOP;\n          break;\n        case false:\n          if (matchLambdas[selector]) { return matchLambdas[selector]; }\n          macro = M_BODY + (callback ? M_TEST : '') + M_TAIL;\n          head = M_HEAD;\n          loop = M_LOOP;\n          break;\n        case null:\n          if (selectLambdas[selector]) { return selectLambdas[selector]; }\n          macro = N_BODY + (callback ? N_TEST : '') + S_TAIL;\n          head = S_HEAD;\n          loop = N_LOOP;\n          break;\n        default:\n          break;\n      }\n\n      source = compileSelector(selector, macro, mode, callback);\n\n      loop += mode || mode === null ? '{' + source + '}' : source;\n\n      if (mode || mode === null && selector.includes(':nth')) {\n        loop += reNthElem.test(selector) ? 's.nthElement(null, 2);' : '';\n        loop += reNthType.test(selector) ? 's.nthOfType(null, 2);' : '';\n      }\n\n      if (S_VARS[0] || M_VARS[0]) {\n        vars = ',' + (S_VARS.join(',') || M_VARS.join(','));\n        S_VARS.length = 0;\n        M_VARS.length = 0;\n      }\n\n      factory = Function('s', F_INIT + '{' + head + vars + ';' + loop + 'return r;}')(Snapshot);\n\n      return mode || mode === null ? (selectLambdas[selector] = factory) : (matchLambdas[selector] = factory);\n    },\n\n  // build conditional code to check components of selector strings\n  compileSelector =\n    function(expression, source, mode, callback) {\n\n      var a, b, n, f, k = 0, name, NS, referenceElement,\n      compat, expr, match, result, status, symbol, test,\n      type, selector = expression, selector_string, vars;\n\n      // original 'select' or 'match' selector string before normalization\n      selector_string = mode ? lastSelected : lastMatched;\n\n      // isolate selector combinators/components and normalize whitespace\n      selector = selector.replace(STD.combinator, '$1');//.replace(STD.whitespace, ' ');\n\n      // javascript needs a label to break\n      // out of the while loops processing\n      selector_recursion_label:\n\n      while (selector) {\n\n        ++k;\n\n        // get namespace prefix if present or get first char of selector\n        symbol = STD.apimethods.test(selector) ? '|' : selector[0];\n\n        switch (symbol) {\n\n          // universal resolver\n          case '*':\n            match = selector.match(Patterns.universal);\n            break;\n\n          // id resolver\n          case '#':\n            match = selector.match(Patterns.id);\n            source = 'if((/^' + match[1] + '$/.test(e.getAttribute(\"id\")))){' + source + '}';\n            break;\n\n          // class name resolver\n          case '.':\n            match = selector.match(Patterns.className);\n            compat = (QUIRKS_MODE ? 'i' : '') + '.test(e.getAttribute(\"class\"))';\n            source = 'if((/(^|\\\\s)' + match[1] + '(\\\\s|$)/' + compat + ')){' + source + '}';\n            break;\n\n          // tag name resolver\n          case (/[_a-z]/i.test(symbol) ? symbol : undefined):\n            match = selector.match(Patterns.tagName);\n            source = 'if((e.localName==\"' + match[1] + '\")){' + source + '}';\n            break;\n\n          // namespace resolver\n          case '|':\n            match = selector.match(Patterns.namespace);\n            if (match[1] == '*') {\n              source = 'if(true){' + source + '}';\n            } else if (!match[1]) {\n              source = 'if((!e.namespaceURI)){' + source + '}';\n            } else if (typeof match[1] == 'string' && root.prefix == match[1]) {\n              source = 'if((e.namespaceURI==\"' + NAMESPACE + '\")){' + source + '}';\n            } else {\n              emit('\\'' + selector_string + '\\'' + qsInvalid);\n            }\n            break;\n\n          // attributes resolver\n          case '[':\n            match = selector.match(Patterns.attribute);\n            NS = match[0].match(STD.namespaces);\n            name = match[1];\n            expr = name.split(':');\n            expr = expr.length == 2 ? expr[1] : expr[0];\n            if (match[2] && !(test = Operators[match[2]])) {\n              emit('\\'' + selector_string + '\\'' + qsInvalid);\n              return '';\n            }\n            if (match[4] === '') {\n              test = match[2] == '~=' ?\n                { p1: '^\\\\s', p2: '+$', p3: 'true' } :\n                  match[2] in ATTR_STD_OPS && match[2] != '~=' ?\n                { p1: '^',    p2: '$',  p3: 'true' } : test;\n            } else if (match[2] == '~=' && match[4].includes(' ')) {\n              // whitespace separated list but value contains space\n              source = 'if(false){' + source + '}';\n              break;\n            } else if (match[4]) {\n              match[4] = convertEscapes(match[4]).replace(REX.RegExpChar, '\\\\$&');\n            }\n            type = match[5] == 'i' || (HTML_DOCUMENT && HTML_TABLE[expr.toLowerCase()]) ? 'i' : '';\n            source = 'if((' +\n              (!match[2] ? (NS ? 's.hasAttributeNS(e,\"' + name + '\")' : 'e.hasAttribute&&e.hasAttribute(\"' + name + '\")') :\n              !match[4] && ATTR_STD_OPS[match[2]] && match[2] != '~=' ? 'e.getAttribute&&e.getAttribute(\"' + name + '\")==\"\"' :\n              '(/' + test.p1 + match[4] + test.p2 + '/' + type + ').test(e.getAttribute&&e.getAttribute(\"' + name + '\"))==' + test.p3) +\n              ')){' + source + '}';\n            break;\n\n          // *** General sibling combinator\n          // E ~ F (F relative sibling of E)\n          case '~':\n            match = selector.match(Patterns.relative);\n            source = 'var N' + k + '=e;while(e&&(e=e.previousElementSibling)){' + source + '}e=N' + k + ';';\n            break;\n          // *** Adjacent sibling combinator\n          // E + F (F adiacent sibling of E)\n          case '+':\n            match = selector.match(Patterns.adjacent);\n            source = 'var N' + k + '=e;if(e&&(e=e.previousElementSibling)){' + source + '}e=N' + k + ';';\n            break;\n          // *** Descendant combinator\n          // E F (E ancestor of F)\n          case '\\x09':\n          case '\\x20':\n            match = selector.match(Patterns.ancestor);\n            source = 'var N' + k + '=e;while(e&&(e=e.parentElement)){' + source + '}e=N' + k + ';';\n            break;\n          // *** Child combinator\n          // E > F (F children of E)\n          case '>':\n            match = selector.match(Patterns.children);\n            source = 'var N' + k + '=e;if(e&&(e=e.parentElement)){' + source + '}e=N' + k + ';';\n            break;\n\n          // *** user supplied combinators extensions\n          case (symbol in Combinators ? symbol : undefined):\n            // for other registered combinators extensions\n            match[match.length - 1] = '*';\n            source = Combinators[symbol](match) + source;\n            break;\n\n          // *** tree-structural pseudo-classes\n          // :root, :empty, :first-child, :last-child, :only-child, :first-of-type, :last-of-type, :only-of-type\n          case ':':\n            if ((match = selector.match(Patterns.structural))) {\n              match[1] = match[1].toLowerCase();\n              switch (match[1]) {\n                case 'root':\n                  // there can only be one :root element, so exit the loop once found\n                  source = 'if((e===s.root)){' + source + (mode ? 'break main;' : '') + '}';\n                  break;\n                case 'empty':\n                  // matches elements that don't contain elements or text nodes\n                  source = 'n=e.firstChild;while(n&&!(/1|3/).test(n.nodeType)){n=n.nextSibling}if(!n){' + source + '}';\n                  break;\n\n                // *** child-indexed pseudo-classes\n                // :first-child, :last-child, :only-child\n                case 'only-child':\n                  source = 'if((!e.nextElementSibling&&!e.previousElementSibling)){' + source + '}';\n                  break;\n                case 'last-child':\n                  source = 'if((!e.nextElementSibling)){' + source + '}';\n                  break;\n                case 'first-child':\n                  source = 'if((!e.previousElementSibling)){' + source + '}';\n                  break;\n\n                // *** typed child-indexed pseudo-classes\n                // :only-of-type, :last-of-type, :first-of-type\n                case 'only-of-type':\n                  source = 'o=e.localName;' +\n                    'n=e;while((n=n.nextElementSibling)&&n.localName!=o);if(!n){' +\n                    'n=e;while((n=n.previousElementSibling)&&n.localName!=o);}if(!n){' + source + '}';\n                  break;\n                case 'last-of-type':\n                  source = 'n=e;o=e.localName;while((n=n.nextElementSibling)&&n.localName!=o);if(!n){' + source + '}';\n                  break;\n                case 'first-of-type':\n                  source = 'n=e;o=e.localName;while((n=n.previousElementSibling)&&n.localName!=o);if(!n){' + source + '}';\n                  break;\n                default:\n                  emit('\\'' + selector_string + '\\'' + qsInvalid);\n                  break;\n              }\n            }\n\n            // *** child-indexed & typed child-indexed pseudo-classes\n            // :nth-child, :nth-of-type, :nth-last-child, :nth-last-of-type\n            else if ((match = selector.match(Patterns.treestruct))) {\n              match[1] = match[1].toLowerCase();\n              switch (match[1]) {\n                case 'nth-child':\n                case 'nth-of-type':\n                case 'nth-last-child':\n                case 'nth-last-of-type':\n                  expr = /-of-type/i.test(match[1]);\n                  if (match[1] && match[2]) {\n                    type = /last/i.test(match[1]);\n                    if (match[2] == 'n') {\n                      source = 'if(true){' + source + '}';\n                      break;\n                    } else if (match[2] == '1') {\n                      test = type ? 'next' : 'previous';\n                      source = expr ? 'n=e;o=e.localName;' +\n                        'while((n=n.' + test + 'ElementSibling)&&n.localName!=o);if(!n){' + source + '}' :\n                        'if(!e.' + test + 'ElementSibling){' + source + '}';\n                      break;\n                    } else if (match[2] == 'even' || match[2] == '2n0' || match[2] == '2n+0' || match[2] == '2n') {\n                      test = 'n%2==0';\n                    } else if (match[2] == 'odd'  || match[2] == '2n1' || match[2] == '2n+1') {\n                      test = 'n%2==1';\n                    } else {\n                      f = /n/i.test(match[2]);\n                      n = match[2].split('n');\n                      a = parseInt(n[0], 10) || 0;\n                      b = parseInt(n[1], 10) || 0;\n                      if (n[0] == '-') { a = -1; }\n                      if (n[0] == '+') { a = +1; }\n                      test = (b ? '(n' + (b > 0 ? '-' : '+') + Math.abs(b) + ')' : 'n') + '%' + a + '==0' ;\n                      test =\n                        a >= +1 ? (f ? 'n>' + (b - 1) + (Math.abs(a) != 1 ? '&&' + test : '') : 'n==' + a) :\n                        a <= -1 ? (f ? 'n<' + (b + 1) + (Math.abs(a) != 1 ? '&&' + test : '') : 'n==' + a) :\n                        a === 0 ? (n[0] ? 'n==' + b : 'n>' + (b - 1)) : 'false';\n                    }\n                    expr = expr ? 'OfType' : 'Element';\n                    type = type ? 'true' : 'false';\n                    source = 'n=s.nth' + expr + '(e,' + type + ');if((' + test + ')){' + source + '}';\n                  } else {\n                    emit('\\'' + selector_string + '\\'' + qsInvalid);\n                  }\n                  break;\n                default:\n                  emit('\\'' + selector_string + '\\'' + qsInvalid);\n                  break;\n              }\n            }\n\n            // *** logical combination pseudo-classes\n            // :is( s1, [ s2, ... ]), :not( s1, [ s2, ... ])\n            else if ((match = selector.match(Patterns.logicalsel))) {\n              match[1] = match[1].toLowerCase();\n              switch (match[1]) {\n                case 'is':\n                case 'where':\n                case 'matches':\n                  expr = match[2].replace(REX.CommaGroup, ',').replace(REX.TrimSpaces, '');\n                  source = 'if(s.match(\"' + expr.replace(/\\x22/g, '\\\\\"') + '\",e)){' + source + '}';\n                  break;\n                case 'not':\n                  expr = match[2].replace(REX.CommaGroup, ',').replace(REX.TrimSpaces, '');\n                  source = 'if(!s.match(\"' + expr.replace(/\\x22/g, '\\\\\"') + '\",e)){' + source + '}';\n                  break;\n                case 'has':\n                  referenceElement = selector_string.split(':')[0];\n                  expr = match[2].replace(REX.CommaGroup, ',').replace(REX.TrimSpaces, '');\n                  source = 'if(s.match(\"' + expr.replace(/\\x22/g, '\\\\\"') + ',' + referenceElement + '\",e)){' + source + '}';\n                  break;\n                default:\n                  emit('\\'' + selector_string + '\\'' + qsInvalid);\n                  break;\n              }\n            }\n\n            // *** linguistic pseudo-classes\n            // :dir( ltr / rtl ), :lang( en )\n            else if ((match = selector.match(Patterns.linguistic))) {\n              match[1] = match[1].toLowerCase();\n              switch (match[1]) {\n                case 'dir':\n                  source = 'var p;if((' +\n                    '(/' + match[2] + '/i.test(e.dir))||(p=s.ancestor(\"[dir]\", e))&&' +\n                    '(/' + match[2] + '/i.test(p.dir))||(e.dir==\"\"||e.dir==\"auto\")&&' +\n                    '(' + (match[2] == 'ltr' ? '!':'')+ RTL +'.test(e.textContent)))' +\n                    '){' + source + '};';\n                  break;\n                case 'lang':\n                  expr = '(?:^|-)' + match[2] + '(?:-|$)';\n                  source = 'var p;if((' +\n                    '(e.isConnected&&(e.lang==\"\"&&(p=s.ancestor(\"[lang]\",e)))&&' +\n                    '(p.lang==\"' + match[2] + '\")||/'+ expr +'/i.test(e.lang)))' +\n                    '){' + source + '};';\n                  break;\n                default:\n                  emit('\\'' + selector_string + '\\'' + qsInvalid);\n                  break;\n              }\n            }\n\n            // *** location pseudo-classes\n            // :any-link, :link, :visited, :target\n            else if ((match = selector.match(Patterns.locationpc))) {\n              match[1] = match[1].toLowerCase();\n              switch (match[1]) {\n                case 'any-link':\n                  source = 'if((/^a|area$/i.test(e.localName)&&e.hasAttribute(\"href\")||e.visited)){' + source + '}';\n                  break;\n                case 'link':\n                  source = 'if((/^a|area$/i.test(e.localName)&&e.hasAttribute(\"href\"))){' + source + '}';\n                  break;\n                case 'visited':\n                  source = 'if((/^a|area$/i.test(e.localName)&&e.hasAttribute(\"href\")&&e.visited)){' + source + '}';\n                  break;\n                case 'target':\n                  source = 'if(((s.doc.compareDocumentPosition(e)&16)&&s.doc.location.hash&&e.id==s.doc.location.hash.slice(1))){' + source + '}';\n                  break;\n                default:\n                  emit('\\'' + selector_string + '\\'' + qsInvalid);\n                  break;\n              }\n            }\n\n            // *** user actions pseudo-classes\n            // :hover, :active, :focus, :focus-within\n            else if ((match = selector.match(Patterns.useraction))) {\n              match[1] = match[1].toLowerCase();\n              switch (match[1]) {\n                case 'hover':\n                  source = 'hasFocus' in doc && doc.hasFocus() ?\n                    'if((e===s.doc.hoverElement)){' + source + '}' : source;\n                  break;\n                case 'active':\n                  source = 'hasFocus' in doc && doc.hasFocus() ?\n                    'if((e===s.doc.activeElement)){' + source + '}' : source;\n                  break;\n                case 'focus':\n                  source = 'hasFocus' in doc ?\n                    'if(e.parentElement&&e.parentElement.style.display!=\"none\"&&' +\n                    'e===s.doc.activeElement&&s.doc.hasFocus()&&(e.type||e.href||typeof e.tabIndex==\"number\")){' + source + '}' : source;\n                  break;\n                case 'focus-within':\n                  source = 'hasFocus' in doc ?\n                    'n=s.doc.activeElement;if(e!==n){while(n&&(n=n.parentElement)){if(e===n)break;}}' +\n                    'if((e===n&&s.doc.hasFocus()&&(e.type||e.href||typeof e.tabIndex==\"number\"))){' + source + '}' : source;\n                  break;\n                default:\n                  emit('\\'' + selector_string + '\\'' + qsInvalid);\n                  break;\n              }\n            }\n\n            // *** user interface and form pseudo-classes\n            // :enabled, :disabled, :read-only, :read-write, :placeholder-shown, :default\n            else if ((match = selector.match(Patterns.inputstate))) {\n              match[1] = match[1].toLowerCase();\n              switch (match[1]) {\n                case 'enabled':\n                  source = 'if(((\"form\" in e||/^optgroup$/i.test(e.localName))&&\"disabled\" in e &&e.disabled===false' +\n                    ')){' + source + '}';\n                  break;\n                case 'disabled':\n                  // https://www.w3.org/TR/html5/forms.html#enabling-and-disabling-form-controls:-the-disabled-attribute\n                  source = 'if(((\"form\" in e||/^optgroup$/i.test(e.localName))&&\"disabled\" in e&&' +\n                    '(e.disabled===true||(n=s.ancestor(\"fieldset\",e))&&(n=s.first(\"legend\",n))&&!n.contains(e))' +\n                    ')){' + source + '}';\n                  break;\n                case 'read-only':\n                  source =\n                    'if((' +\n                      '(/^textarea$/i.test(e.localName)&&(e.readOnly||e.disabled))||' +\n                      '(\"|password|text|\".includes(\"|\"+e.type+\"|\")&&e.readOnly)' +\n                    ')){' + source + '}';\n                  break;\n                case 'read-write':\n                  source =\n                    'if((' +\n                      '((/^textarea$/i.test(e.localName)&&!e.readOnly&&!e.disabled)||' +\n                      '(\"|password|text|\".includes(\"|\"+e.type+\"|\")&&!e.readOnly&&!e.disabled))||' +\n                      '(e.hasAttribute(\"contenteditable\")||(s.doc.designMode==\"on\"))' +\n                    ')){' + source + '}';\n                  break;\n                case 'placeholder-shown':\n                  source =\n                    'if((' +\n                      '(/^input|textarea$/i.test(e.localName))&&e.hasAttribute(\"placeholder\")&&' +\n                      '(\"|textarea|password|number|search|email|text|tel|url|\".includes(\"|\"+e.type+\"|\"))&&' +\n                      '(!s.match(\":focus\",e))' +\n                    ')){' + source + '}';\n                  break;\n                case 'default':\n                  source =\n                    'if((\"form\" in e && e.form)){' +\n                      'var x=0;n=[];' +\n                      'if(e.type==\"image\")n=e.form.getElementsByTagName(\"input\");' +\n                      'if(e.type==\"submit\")n=e.form.elements;' +\n                      'while(n[x]&&e!==n[x]){' +\n                        'if(n[x].type==\"image\")break;' +\n                        'if(n[x].type==\"submit\")break;' +\n                        'x++;' +\n                      '}' +\n                    '}' +\n                    'if((e.form&&(e===n[x]&&\"|image|submit|\".includes(\"|\"+e.type+\"|\"))||' +\n                      '((/^option$/i.test(e.localName))&&e.defaultSelected)||' +\n                      '((\"|radio|checkbox|\".includes(\"|\"+e.type+\"|\"))&&e.defaultChecked)' +\n                    ')){' + source + '}';\n                  break;\n                default:\n                  emit('\\'' + selector_string + '\\'' + qsInvalid);\n                  break;\n              }\n            }\n\n            // *** input pseudo-classes (for form validation)\n            // :checked, :indeterminate, :valid, :invalid, :in-range, :out-of-range, :required, :optional\n            else if ((match = selector.match(Patterns.inputvalue))) {\n              match[1] = match[1].toLowerCase();\n              switch (match[1]) {\n                case 'checked':\n                  source = 'if((/^input$/i.test(e.localName)&&' +\n                    '(\"|radio|checkbox|\".includes(\"|\"+e.type+\"|\")&&e.checked)||' +\n                    '(/^option$/i.test(e.localName)&&(e.selected||e.checked))' +\n                    ')){' + source + '}';\n                  break;\n                case 'indeterminate':\n                  source =\n                    'if((/^progress$/i.test(e.localName)&&!e.hasAttribute(\"value\"))||' +\n                      '(/^input$/i.test(e.localName)&&(\"checkbox\"==e.type&&e.indeterminate)||' +\n                      '(\"radio\"==e.type&&e.name&&!s.first(\"input[name=\"+e.name+\"]:checked\",e.form))' +\n                    ')){' + source + '}';\n                  break;\n                case 'required':\n                  source =\n                    'if((/^input|select|textarea$/i.test(e.localName)&&e.required)' +\n                    '){' + source + '}';\n                  break;\n                case 'optional':\n                  source =\n                    'if((/^input|select|textarea$/i.test(e.localName)&&!e.required)' +\n                    '){' + source + '}';\n                  break;\n                case 'invalid':\n                  source =\n                    'if(((' +\n                      '(/^form$/i.test(e.localName)&&!e.noValidate)||' +\n                      '(e.willValidate&&!e.formNoValidate))&&!e.checkValidity())||' +\n                      '(/^fieldset$/i.test(e.localName)&&s.first(\":invalid\",e))' +\n                    '){' + source + '}';\n                  break;\n                case 'valid':\n                  source =\n                    'if(((' +\n                      '(/^form$/i.test(e.localName)&&!e.noValidate)||' +\n                      '(e.willValidate&&!e.formNoValidate))&&e.checkValidity())||' +\n                      '(/^fieldset$/i.test(e.localName)&&s.first(\":valid\",e))' +\n                    '){' + source + '}';\n                  break;\n                case 'in-range':\n                  source =\n                    'if((/^input$/i.test(e.localName))&&' +\n                      '(e.willValidate&&!e.formNoValidate)&&' +\n                      '(!e.validity.rangeUnderflow&&!e.validity.rangeOverflow)&&' +\n                      '(\"|date|datetime-local|month|number|range|time|week|\".includes(\"|\"+e.type+\"|\"))&&' +\n                      '(\"range\"==e.type||e.getAttribute(\"min\")||e.getAttribute(\"max\"))' +\n                    '){' + source + '}';\n                  break;\n                case 'out-of-range':\n                  source =\n                    'if((/^input$/i.test(e.localName))&&' +\n                      '(e.willValidate&&!e.formNoValidate)&&' +\n                      '(e.validity.rangeUnderflow||e.validity.rangeOverflow)&&' +\n                      '(\"|date|datetime-local|month|number|range|time|week|\".includes(\"|\"+e.type+\"|\"))&&' +\n                      '(\"range\"==e.type||e.getAttribute(\"min\")||e.getAttribute(\"max\"))' +\n                    '){' + source + '}';\n                  break;\n                default:\n                  emit('\\'' + selector_string + '\\'' + qsInvalid);\n                  break;\n              }\n            }\n\n            // allow pseudo-elements starting with single colon (:)\n            // :after, :before, :first-letter, :first-line\n            // assert: e.type is in double-colon format, like ::after\n            else if ((match = selector.match(Patterns.pseudo_sng))) {\n              source = 'if(e.element&&e.type.toLowerCase()==\"' +\n                ':' + match[0].toLowerCase() + '\"){e=e.element;' + source + '}';\n            }\n\n            // allow pseudo-elements starting with double colon (::)\n            // ::after, ::before, ::marker, ::placeholder, ::inactive-selection, ::selection, ::-webkit-<foo-bar>\n            // assert: e.type is in double-colon format, like ::after\n            else if ((match = selector.match(Patterns.pseudo_dbl))) {\n              source = 'if(e.element&&e.type.toLowerCase()==\"' +\n                match[0].toLowerCase() + '\"){e=e.element;' + source + '}';\n            }\n\n            // placeholder for parsed only no-op selectors\n            else if ((match = selector.match(Patterns.pseudo_nop))) {\n              source = 'if(false){' + source + '}';\n            }\n\n            else {\n\n              // reset\n              expr = false;\n              status = false;\n\n              // process registered selector extensions\n              for (expr in Selectors) {\n                if ((match = selector.match(Selectors[expr].Expression))) {\n                  result = Selectors[expr].Callback(match, source, mode, callback);\n                  if ('match' in result) { match = result.match; }\n                  vars = result.modvar;\n                  if (mode) {\n                     // add extra select() vars\n                     vars && S_VARS.indexOf(vars) < 0 && (S_VARS[S_VARS.length] = vars);\n                  } else {\n                     // add extra match() vars\n                     vars && M_VARS.indexOf(vars) < 0 && (M_VARS[M_VARS.length] = vars);\n                  }\n                  // extension source code\n                  source = result.source;\n                  // extension status code\n                  status = result.status;\n                  // break on status error\n                  if (status) { break; }\n                }\n              }\n\n              if (!status) {\n                emit('unknown pseudo-class selector \\'' + selector + '\\'');\n                return '';\n              }\n\n              if (!expr) {\n                emit('unknown token in selector \\'' + selector + '\\'');\n                return '';\n              }\n\n            }\n            break;\n\n        default:\n          emit('\\'' + selector_string + '\\'' + qsInvalid);\n          break selector_recursion_label;\n\n        }\n        // end of switch symbol\n\n        if (!match) {\n          emit('\\'' + selector_string + '\\'' + qsInvalid);\n          return '';\n        }\n\n        // pop last component\n        selector = match.pop();\n      }\n      // end of while selector\n\n      return source;\n    },\n\n  // replace ':scope' pseudo-class with element references\n  makeref =\n    function(selectors, element) {\n      return selectors.replace(/:scope/ig,\n        element.localName +\n        (element.id ? '#' + element.id : '') +\n        (element.className ? '.' + element.classList[0] : ''));\n    },\n\n  // equivalent of w3c 'closest' method\n  ancestor =\n    function _closest(selectors, element, callback) {\n\n      if ((/:scope/i).test(selectors)) {\n        selectors = makeref(selectors, element);\n      }\n\n      while (element) {\n        if (match(selectors, element, callback)) break;\n        element = element.parentElement;\n      }\n      return element;\n    },\n\n  match_assert =\n    function(f, element, callback) {\n      for (var i = 0, l = f.length, r = false; l > i; ++i)\n        f[i](element, callback, null, false) && (r = true);\n      return r;\n    },\n\n  match_collect =\n    function(selectors, callback) {\n      for (var i = 0, l = selectors.length, f = [ ]; l > i; ++i)\n        f[i] = compile(selectors[i], false, callback);\n      return { factory: f };\n    },\n\n  // equivalent of w3c 'matches' method\n  match =\n    function _matches(selectors, element, callback) {\n\n      var expressions, parsed;\n\n      if (element && matchResolvers[selectors]) {\n        return match_assert(matchResolvers[selectors].factory, element, callback);\n      }\n\n      lastMatched = selectors;\n\n      // arguments validation\n      if (arguments.length === 0) {\n        emit(qsNotArgs, TypeError);\n        return Config.VERBOSITY ? undefined : false;\n      } else if (arguments[0] === '') {\n        emit('\\'\\'' + qsInvalid);\n        return Config.VERBOSITY ? undefined : false;\n      }\n\n      // input NULL or UNDEFINED\n      if (typeof selectors != 'string') {\n        selectors = '' + selectors;\n      }\n\n      if ((/:scope/i).test(selectors)) {\n        selectors = makeref(selectors, element);\n      }\n\n      // normalize input string\n      parsed = selectors.\n        replace(/\\x00|\\\\$/g, '\\ufffd').\n        replace(REX.CombineWSP, '\\x20').\n        replace(REX.PseudosWSP, '$1').\n        replace(REX.TabCharWSP, '\\t').\n        replace(REX.CommaGroup, ',').\n        replace(REX.TrimSpaces, '');\n\n      // parse, validate and split possible compound selectors\n      if ((expressions = parsed.match(reValidator)) && expressions.join('') == parsed) {\n        expressions = parsed.match(REX.SplitGroup);\n        if (parsed[parsed.length - 1] == ',') {\n          emit(qsInvalid);\n          return Config.VERBOSITY ? undefined : false;\n        }\n      } else {\n        emit('\\'' + selectors + '\\'' + qsInvalid);\n        return Config.VERBOSITY ? undefined : false;\n      }\n\n      matchResolvers[selectors] = match_collect(expressions, callback);\n\n      return match_assert(matchResolvers[selectors].factory, element, callback);\n    },\n\n  // equivalent of w3c 'querySelector' method\n  first =\n    function _querySelector(selectors, context, callback) {\n      if (arguments.length === 0) {\n        emit(qsNotArgs, TypeError);\n      }\n      return select(selectors, context,\n        typeof callback == 'function' ?\n        function firstMatch(element) {\n          callback(element);\n          return false;\n        } :\n        function firstMatch() {\n          return false;\n        }\n      )[0] || null;\n    },\n\n  // equivalent of w3c 'querySelectorAll' method\n  select =\n    function _querySelectorAll(selectors, context, callback) {\n\n      var expressions, nodes = [ ], parsed, resolver;\n\n      context || (context = doc);\n\n      if (selectors) {\n        if ((resolver = selectResolvers[selectors])) {\n          if (resolver.context === context && resolver.callback === callback) {\n            var f = resolver.factory, h = resolver.htmlset, n = resolver.nodeset;\n            if (n.length > 1) {\n              for (var i = 0, l = n.length, list; l > i; ++i) {\n                list = compat[n[i][0]](context, n[i].slice(1))();\n                if (f[i] !== null) {\n                  f[i](list, callback, context, nodes);\n                } else {\n                  nodes = nodes.concat(list);\n                }\n              }\n              if (l > 1 && nodes.length > 1) {\n                nodes.sort(documentOrder);\n                hasDupes && (nodes = unique(nodes));\n              }\n            } else {\n              if (f[0]) {\n                nodes = f[0](h[0](), callback, context, nodes);\n              } else {\n                nodes = h[0]();\n              }\n            }\n            return typeof callback == 'function' ?\n              concatCall(nodes, callback) : nodes;\n          }\n        }\n      }\n\n      lastSelected = selectors;\n\n      // arguments validation\n      if (arguments.length === 0) {\n        emit(qsNotArgs, TypeError);\n        return Config.VERBOSITY ? undefined : none;\n      } else if (arguments[0] === '') {\n        emit('\\'\\'' + qsInvalid);\n        return Config.VERBOSITY ? undefined : none;\n      } else if (lastContext !== context) {\n        lastContext = switchContext(context);\n      }\n\n      // input NULL or UNDEFINED\n      if (typeof selectors != 'string') {\n        selectors = '' + selectors;\n      }\n\n      if ((/:scope/i).test(selectors)) {\n        selectors = makeref(selectors, context);\n      }\n\n      // normalize input string\n      parsed = selectors.\n        replace(/\\x00|\\\\$/g, '\\ufffd').\n        replace(REX.CombineWSP, '\\x20').\n        replace(REX.PseudosWSP, '$1').\n        replace(REX.TabCharWSP, '\\t').\n        replace(REX.CommaGroup, ',').\n        replace(REX.TrimSpaces, '');\n\n      // parse, validate and split possible compound selectors\n      if ((expressions = parsed.match(reValidator)) && expressions.join('') == parsed) {\n        expressions = parsed.match(REX.SplitGroup);\n        if (parsed[parsed.length - 1] == ',') {\n          emit(qsInvalid);\n          return Config.VERBOSITY ? undefined : false;\n        }\n      } else {\n        emit('\\'' + selectors + '\\'' + qsInvalid);\n        return Config.VERBOSITY ? undefined : false;\n      }\n\n      // save/reuse factory and closure collection\n      selectResolvers[selectors] = collect(expressions, context, callback);\n\n      nodes = selectResolvers[selectors].results;\n\n      return typeof callback == 'function' ?\n        concatCall(nodes, callback) : nodes;\n    },\n\n  // optimize selectors avoiding duplicated checks\n  optimize =\n    function(selector, token) {\n      var index = token.index,\n      length = token[1].length + token[2].length;\n      return selector.slice(0, index) +\n        (' >+~'.indexOf(selector.charAt(index - 1)) > -1 ?\n          (':['.indexOf(selector.charAt(index + length + 1)) > -1 ?\n          '*' : '') : '') + selector.slice(index + length - (token[1] == '*' ? 1 : 0));\n    },\n\n  // prepare factory resolvers and closure collections\n  collect =\n    function(selectors, context, callback) {\n\n      var i, l, seen = { }, token = ['', '*', '*'], optimized = selectors,\n      factory = [ ], htmlset = [ ], nodeset = [ ], results = [ ], type;\n\n      for (i = 0, l = selectors.length; l > i; ++i) {\n\n        if (!seen[selectors[i]] && (seen[selectors[i]] = true)) {\n          type = selectors[i].match(reOptimizer);\n          if (type && type[1] != ':' && (token = type)) {\n            token[1] || (token[1] = '*');\n            optimized[i] = optimize(optimized[i], token);\n          } else {\n            token = ['', '*', '*'];\n          }\n        }\n\n        nodeset[i] = token[1] + token[2];\n        htmlset[i] = compat[token[1]](context, token[2]);\n        factory[i] = compile(optimized[i], true, null);\n\n        factory[i] ?\n          factory[i](htmlset[i](), callback, context, results) :\n          results.concat(htmlset[i]());\n      }\n\n      if (l > 1) {\n        results.sort(documentOrder);\n        hasDupes && (results = unique(results));\n      }\n\n      return {\n        callback: callback,\n        context: context,\n        factory: factory,\n        htmlset: htmlset,\n        nodeset: nodeset,\n        results: results\n      };\n\n    },\n\n  // QSA placeholders to native references\n  _closest, _matches, _querySelector, _querySelectorAll,\n\n  // overrides QSA methods (only for browsers)\n  install =\n    function(all) {\n      // save references\n      _closest = Element.prototype.closest;\n      _matches = Element.prototype.matches;\n      _querySelector = Document.prototype.querySelector;\n      _querySelectorAll = Document.prototype.querySelectorAll;\n\n      function parseQSArgs() {\n        var method = arguments[arguments.length - 1];\n        return (\n          arguments.length < 2 ?\n            method.apply(this, [ ]) :\n          arguments.length < 3 ?\n            method.apply(this, [ arguments[0], this ]) :\n            method.apply(this, [ arguments[0], this,\n              typeof arguments[1] == 'function' ? arguments[1] : undefined ]));\n      }\n\n      Element.prototype.closest =\n        function closest() {\n          return parseQSArgs.apply(this, [].slice.call(arguments).concat(ancestor));\n        };\n\n      Element.prototype.matches =\n        function matches() {\n          return parseQSArgs.apply(this, [].slice.call(arguments).concat(match));\n        };\n\n      Element.prototype.querySelector =\n      Document.prototype.querySelector =\n      DocumentFragment.prototype.querySelector =\n        function querySelector() {\n          return parseQSArgs.apply(this, [].slice.call(arguments).concat(first));\n        };\n\n      Element.prototype.querySelectorAll =\n      Document.prototype.querySelectorAll =\n      DocumentFragment.prototype.querySelectorAll =\n        function querySelectorAll() {\n          return parseQSArgs.apply(this, [].slice.call(arguments).concat(select));\n        };\n\n      if (all) {\n        document.addEventListener('load', function(e) {\n          var c, d, r, s, t = e.target;\n          if (/iframe/i.test(t.localName)) {\n            c = '(' + Export + ')(this, ' + Factory + ');'; d = t.contentDocument;\n            s = d.createElement('script'); s.textContent = c + 'NW.Dom.install()';\n            r = d.documentElement; r.removeChild(r.insertBefore(s, r.firstChild));\n          }\n        }, true);\n      }\n\n    },\n\n  // restore QSA methods (only for browsers)\n  uninstall =\n    function() {\n      // restore references\n      if (_closest) { Element.prototype.closest = _closest; }\n      if (_matches) { Element.prototype.matches = _matches; }\n      if (_querySelector) {\n        Element.prototype.querySelector =\n        Document.prototype.querySelector =\n        DocumentFragment.prototype.querySelector = _querySelector;\n      }\n      if (_querySelectorAll) {\n        Element.prototype.querySelectorAll =\n        Document.prototype.querySelectorAll =\n        DocumentFragment.prototype.querySelectorAll = _querySelectorAll;\n      }\n    },\n\n  // empty set\n  none = Array(),\n\n  // context\n  lastContext,\n\n  // selector\n  lastMatched,\n  lastSelected,\n\n  // cached lambdas\n  matchLambdas = { },\n  selectLambdas = { },\n\n  // cached resolvers\n  matchResolvers = { },\n  selectResolvers = { },\n\n  // passed to resolvers\n  Snapshot = {\n\n    doc: doc,\n    from: doc,\n    root: root,\n\n    byTag: byTag,\n\n    first: first,\n    match: match,\n\n    ancestor: ancestor,\n\n    nthOfType: nthOfType,\n    nthElement: nthElement,\n\n    hasAttributeNS: hasAttributeNS\n  },\n\n  // public exported methods/objects\n  Dom = {\n\n    // exported cache objects\n\n    lastMatched: lastMatched,\n    lastSelected: lastSelected,\n\n    matchLambdas: matchLambdas,\n    selectLambdas: selectLambdas,\n\n    matchResolvers: matchResolvers,\n    selectResolvers: selectResolvers,\n\n    // exported compiler macros\n\n    CFG: CFG,\n\n    M_BODY: M_BODY,\n    S_BODY: S_BODY,\n    M_TEST: M_TEST,\n    S_TEST: S_TEST,\n\n    // exported engine methods\n\n    byId: byId,\n    byTag: byTag,\n    byClass: byClass,\n\n    match: match,\n    first: first,\n    select: select,\n    closest: ancestor,\n\n    compile: compile,\n    configure: configure,\n\n    emit: emit,\n    Config: Config,\n    Snapshot: Snapshot,\n\n    Version: version,\n\n    install: install,\n    uninstall: uninstall,\n\n    Operators: Operators,\n    Selectors: Selectors,\n\n    // register a new selector combinator symbol and its related function resolver\n    registerCombinator:\n      function(combinator, resolver) {\n        var i = 0, l = combinator.length, symbol;\n        for (; l > i; ++i) {\n          if (combinator[i] != '=') {\n            symbol = combinator[i];\n            break;\n          }\n        }\n        if (CFG.combinators.indexOf(symbol) < 0) {\n          CFG.combinators = CFG.combinators.replace('](', symbol + '](');\n          CFG.combinators = CFG.combinators.replace('])', symbol + '])');\n          Combinators[combinator] = resolver;\n          setIdentifierSyntax();\n        } else {\n          console.warn('Warning: the \\'' + combinator + '\\' combinator is already registered.');\n        }\n      },\n\n    // register a new attribute operator symbol and its related function resolver\n    registerOperator:\n      function(operator, resolver) {\n        var i = 0, l = operator.length, symbol;\n        for (; l > i; ++i) {\n          if (operator[i] != '=') {\n            symbol = operator[i];\n            break;\n          }\n        }\n        if (CFG.operators.indexOf(symbol) < 0 && !Operators[operator]) {\n          CFG.operators = CFG.operators.replace(']=', symbol + ']=');\n          Operators[operator] = resolver;\n          setIdentifierSyntax();\n        } else {\n          console.warn('Warning: the \\'' + operator + '\\' operator is already registered.');\n        }\n      },\n\n    // register a new selector symbol and its related function resolver\n    registerSelector:\n      function(name, rexp, func) {\n        Selectors[name] || (Selectors[name] = {\n          Expression: rexp,\n          Callback: func\n        });\n      }\n\n  };\n\n  initialize(doc);\n\n  return Dom;\n\n});\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}