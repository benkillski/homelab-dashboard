{"ast":null,"code":"\"use strict\";\n\nconst cssom = require(\"cssom\");\nconst defaultStyleSheet = require(\"../../browser/default-stylesheet\");\nconst {\n  matchesDontThrow\n} = require(\"./selectors\");\nconst {\n  forEach,\n  indexOf\n} = Array.prototype;\nlet parsedDefaultStyleSheet;\n\n// Properties for which getResolvedValue is implemented. This is less than\n// every supported property.\n// https://drafts.csswg.org/indexes/#properties\nexports.propertiesWithResolvedValueImplemented = {\n  __proto__: null,\n  // https://drafts.csswg.org/css2/visufx.html#visibility\n  visibility: {\n    inherited: true,\n    initial: \"visible\",\n    computedValue: \"as-specified\"\n  }\n};\nexports.forEachMatchingSheetRuleOfElement = (elementImpl, handleRule) => {\n  function handleSheet(sheet) {\n    forEach.call(sheet.cssRules, rule => {\n      if (rule.media) {\n        if (indexOf.call(rule.media, \"screen\") !== -1) {\n          forEach.call(rule.cssRules, innerRule => {\n            if (matches(innerRule, elementImpl)) {\n              handleRule(innerRule);\n            }\n          });\n        }\n      } else if (matches(rule, elementImpl)) {\n        handleRule(rule);\n      }\n    });\n  }\n  if (!parsedDefaultStyleSheet) {\n    parsedDefaultStyleSheet = cssom.parse(defaultStyleSheet);\n  }\n  handleSheet(parsedDefaultStyleSheet);\n  forEach.call(elementImpl._ownerDocument.styleSheets._list, handleSheet);\n};\nfunction matches(rule, element) {\n  return matchesDontThrow(element, rule.selectorText);\n}\n\n// Naive implementation of https://drafts.csswg.org/css-cascade-4/#cascading\n// based on the previous jsdom implementation of getComputedStyle.\n// Does not implement https://drafts.csswg.org/css-cascade-4/#cascade-specificity,\n// or rather specificity is only implemented by the order in which the matching\n// rules appear. The last rule is the most specific while the first rule is\n// the least specific.\nfunction getCascadedPropertyValue(element, property) {\n  let value = \"\";\n  exports.forEachMatchingSheetRuleOfElement(element, rule => {\n    const propertyValue = rule.style.getPropertyValue(property);\n    // getPropertyValue returns \"\" if the property is not found\n    if (propertyValue !== \"\") {\n      value = propertyValue;\n    }\n  });\n  const inlineValue = element.style.getPropertyValue(property);\n  if (inlineValue !== \"\" && inlineValue !== null) {\n    value = inlineValue;\n  }\n  return value;\n}\n\n// https://drafts.csswg.org/css-cascade-4/#specified-value\nfunction getSpecifiedValue(element, property) {\n  const cascade = getCascadedPropertyValue(element, property);\n  if (cascade !== \"\") {\n    return cascade;\n  }\n\n  // Defaulting\n  const {\n    initial,\n    inherited\n  } = exports.propertiesWithResolvedValueImplemented[property];\n  if (inherited && element.parentElement !== null) {\n    return getComputedValue(element.parentElement, property);\n  }\n\n  // root element without parent element or inherited property\n  return initial;\n}\n\n// https://drafts.csswg.org/css-cascade-4/#computed-value\nfunction getComputedValue(element, property) {\n  const {\n    computedValue\n  } = exports.propertiesWithResolvedValueImplemented[property];\n  if (computedValue === \"as-specified\") {\n    return getSpecifiedValue(element, property);\n  }\n  throw new TypeError(`Internal error: unrecognized computed value instruction '${computedValue}'`);\n}\n\n// https://drafts.csswg.org/cssom/#resolved-value\n// Only implements `visibility`\nexports.getResolvedValue = (element, property) => {\n  // Determined for special case properties, none of which are implemented here.\n  // So we skip to \"any other property: The resolved value is the computed value.\"\n  return getComputedValue(element, property);\n};\nexports.SHADOW_DOM_PSEUDO_REGEXP = /^::(?:part|slotted)\\(/i;","map":{"version":3,"names":["cssom","require","defaultStyleSheet","matchesDontThrow","forEach","indexOf","Array","prototype","parsedDefaultStyleSheet","exports","propertiesWithResolvedValueImplemented","__proto__","visibility","inherited","initial","computedValue","forEachMatchingSheetRuleOfElement","elementImpl","handleRule","handleSheet","sheet","call","cssRules","rule","media","innerRule","matches","parse","_ownerDocument","styleSheets","_list","element","selectorText","getCascadedPropertyValue","property","value","propertyValue","style","getPropertyValue","inlineValue","getSpecifiedValue","cascade","parentElement","getComputedValue","TypeError","getResolvedValue","SHADOW_DOM_PSEUDO_REGEXP"],"sources":["D:/benki/Programming/GitHub/homelab-dashboard/client/homelab-dashboard/node_modules/jsdom/lib/jsdom/living/helpers/style-rules.js"],"sourcesContent":["\"use strict\";\nconst cssom = require(\"cssom\");\nconst defaultStyleSheet = require(\"../../browser/default-stylesheet\");\nconst { matchesDontThrow } = require(\"./selectors\");\n\nconst { forEach, indexOf } = Array.prototype;\n\nlet parsedDefaultStyleSheet;\n\n// Properties for which getResolvedValue is implemented. This is less than\n// every supported property.\n// https://drafts.csswg.org/indexes/#properties\nexports.propertiesWithResolvedValueImplemented = {\n  __proto__: null,\n\n  // https://drafts.csswg.org/css2/visufx.html#visibility\n  visibility: {\n    inherited: true,\n    initial: \"visible\",\n    computedValue: \"as-specified\"\n  }\n};\n\nexports.forEachMatchingSheetRuleOfElement = (elementImpl, handleRule) => {\n  function handleSheet(sheet) {\n    forEach.call(sheet.cssRules, rule => {\n      if (rule.media) {\n        if (indexOf.call(rule.media, \"screen\") !== -1) {\n          forEach.call(rule.cssRules, innerRule => {\n            if (matches(innerRule, elementImpl)) {\n              handleRule(innerRule);\n            }\n          });\n        }\n      } else if (matches(rule, elementImpl)) {\n        handleRule(rule);\n      }\n    });\n  }\n\n  if (!parsedDefaultStyleSheet) {\n    parsedDefaultStyleSheet = cssom.parse(defaultStyleSheet);\n  }\n\n  handleSheet(parsedDefaultStyleSheet);\n  forEach.call(elementImpl._ownerDocument.styleSheets._list, handleSheet);\n};\n\nfunction matches(rule, element) {\n  return matchesDontThrow(element, rule.selectorText);\n}\n\n// Naive implementation of https://drafts.csswg.org/css-cascade-4/#cascading\n// based on the previous jsdom implementation of getComputedStyle.\n// Does not implement https://drafts.csswg.org/css-cascade-4/#cascade-specificity,\n// or rather specificity is only implemented by the order in which the matching\n// rules appear. The last rule is the most specific while the first rule is\n// the least specific.\nfunction getCascadedPropertyValue(element, property) {\n  let value = \"\";\n\n  exports.forEachMatchingSheetRuleOfElement(element, rule => {\n    const propertyValue = rule.style.getPropertyValue(property);\n    // getPropertyValue returns \"\" if the property is not found\n    if (propertyValue !== \"\") {\n      value = propertyValue;\n    }\n  });\n\n  const inlineValue = element.style.getPropertyValue(property);\n  if (inlineValue !== \"\" && inlineValue !== null) {\n    value = inlineValue;\n  }\n\n  return value;\n}\n\n// https://drafts.csswg.org/css-cascade-4/#specified-value\nfunction getSpecifiedValue(element, property) {\n  const cascade = getCascadedPropertyValue(element, property);\n\n  if (cascade !== \"\") {\n    return cascade;\n  }\n\n  // Defaulting\n  const { initial, inherited } = exports.propertiesWithResolvedValueImplemented[property];\n  if (inherited && element.parentElement !== null) {\n    return getComputedValue(element.parentElement, property);\n  }\n\n  // root element without parent element or inherited property\n  return initial;\n}\n\n// https://drafts.csswg.org/css-cascade-4/#computed-value\nfunction getComputedValue(element, property) {\n  const { computedValue } = exports.propertiesWithResolvedValueImplemented[property];\n  if (computedValue === \"as-specified\") {\n    return getSpecifiedValue(element, property);\n  }\n\n  throw new TypeError(`Internal error: unrecognized computed value instruction '${computedValue}'`);\n}\n\n// https://drafts.csswg.org/cssom/#resolved-value\n// Only implements `visibility`\nexports.getResolvedValue = (element, property) => {\n  // Determined for special case properties, none of which are implemented here.\n  // So we skip to \"any other property: The resolved value is the computed value.\"\n  return getComputedValue(element, property);\n};\n\nexports.SHADOW_DOM_PSEUDO_REGEXP = /^::(?:part|slotted)\\(/i;\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}